(function(){function polyFill(aClass,name,fn){var proto=aClass.prototype;if(proto[name]){return;}if(Object.defineProperty){try{Object.defineProperty(proto,name,{configurable:true,enumerable:false,writable:true,value:fn});return;}catch(e){}}proto[name]=fn;}polyFill(String,"trim",function(){var s=this.replace(/^\s\s*/,"");var ws=/\s/;var i=s.length;while(ws.test(s.charAt(--i))){}return s.slice(0,i+1);});polyFill(String,"startsWith",function(s){return(this.length>=s.length&&this.substring(0,s.length)===s);});polyFill(String,"endsWith",function(s){return(this.length>=s.length&&this.substring(this.length-s.length)===s);});polyFill(Array,"indexOf",function(searchElement){if(this==null){throw new TypeError();}var t=Object(this);var len=t.length>>>0;if(len===0){return -1;}var n=0;if(arguments.length>1){n=Number(arguments[1]);if(n!=n){n=0;}else{if(n!=0&&n!=Infinity&&n!=-Infinity){n=(n>0||-1)*Math.floor(Math.abs(n));}}}if(n>=len){return -1;}var k=n>=0?n:Math.max(len-Math.abs(n),0);for(;k<len;k++){if(k in t&&t[k]===searchElement){return k;}}return -1;});polyFill(Array,"lastObject",function(){return this[this.length-1];});polyFill(Array,"removeObject",function(obj){var n=this.length;for(var i=(n-1);i>=0;i--){if(this[i]===obj){this.splice(i,1);}}return(this.length===n)?null:obj;});var Array_remove=Array.prototype.remove;delete Array.prototype.remove;polyFill(Array,"remove",Array_remove);polyFill(Array,"map",function(callback,thisArg){var T,A,k;if(this==null){throw new TypeError(" this is null or not defined");}var O=Object(this);var len=O.length>>>0;if({}.toString.call(callback)!="[object Function]"){throw new TypeError(callback+" is not a function");}if(thisArg){T=thisArg;}A=new Array(len);k=0;while(k<len){var kValue,mappedValue;if(k in O){kValue=O[k];mappedValue=callback.call(T,kValue,k,O);A[k]=mappedValue;}k++;}return A;});polyFill(Array,"forEach",function(fn,scope){for(var i=0,len=this.length;i<len;++i){fn.call(scope,this[i],i,this);}});polyFill(Function,"isInstance",function(obj){if(obj&&obj.hasOwnProperty&&obj.hasOwnProperty("constructor")){return false;}while(obj){if(obj.constructor===this){return true;}obj=obj.constructor?obj.constructor.superclass:null;}return false;});polyFill(Function,"isAssignableFrom",function(cls){while(cls){if(cls===this){return true;}cls=(cls.superclass&&cls.superclass.constructor);}return false;});polyFill(Function,"bind",function(oThis){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");}var aArgs=Array.prototype.slice.call(arguments,1),fToBind=this,fNOP=function(){},fBound=function(){return fToBind.apply((this instanceof fNOP&&oThis)?this:oThis,aArgs.concat(Array.prototype.slice.call(arguments)));};fNOP.prototype=this.prototype;fBound.prototype=new fNOP();return fBound;});if(!(Object.create)){Object.create=(function(){function F(){}return function(o){if(arguments.length!=1){throw new Error("Object.create implementation only accepts one parameter.");}F.prototype=o;return new F();};})();}if(!Object.keys){Object.keys=(function(){var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!({toString:null}).propertyIsEnumerable("toString"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;return function(obj){if(typeof obj!=="object"&&typeof obj!=="function"||obj===null){throw new TypeError("Object.keys called on non-object");}var result=[];for(var prop in obj){if(hasOwnProperty.call(obj,prop)){result.push(prop);}}if(hasDontEnumBug){for(var i=0;i<dontEnumsLength;i++){if(hasOwnProperty.call(obj,dontEnums[i])){result.push(dontEnums[i]);}}}return result;};})();}if(!(Object.freeze)){Object.freeze=function(o){return o;};}if(!(Date.now)){Date.now=function(){return +(new Date);};}})();if(window.site9){throw"site9 Core loaded more than once";}(function($){if("onpagehide" in window){return;}$(window).load(function(){$(window).trigger("pageshow");});$(window).unload(function(){$(window).trigger("pagehide");});})(jQuery);(function($){if("onhashchange" in window){return;}var previousHash=getHash();var checkForHashChange=function(){var currentHash=getHash();if(previousHash!==currentHash){previousHash=currentHash;$(window).trigger("hashchange");}};function getHash(){return window.location.hash;}setInterval(checkForHashChange,200);})(jQuery);(function($){function create(aPrototype){var mixins=Array.prototype.slice.call(arguments,1);var obj=Object.create(aPrototype||Object.prototype);for(var i=0,n=mixins.length;i<n;i++){var mixin=mixins[i];if(mixin){for(var k in mixin){if(mixin.hasOwnProperty(k)){obj[k]=mixin[k];}}}}return obj;}var RESOLVER=$("<a/>");var MESSAGE_CONTENT_SEP="\n\n";var awakeListeners=[];var sleepListeners=[];var isAwake=false;window.site9={safely:function(fn,scope,a,b,c){try{return fn.call(scope,a,b,c);}catch(e){if(window.console&&typeof(console.warn)==="function"){console.warn("site9.safely",arguments,": Caught Exception: ",e,e.stack);}}},create:create,deferFor:function(millis,value){var deferred=$.Deferred();setTimeout(function(){deferred.resolve(value);},millis);return deferred.promise();},mobileDeviceType:(function(){var ua=navigator.userAgent.toLowerCase();if(ua.indexOf("iphone")!==-1){return"phone";}if(ua.indexOf("ipad")!==-1){return"tablet";}return null;})(),resolveURL:function(url){return RESOLVER.attr("href",url)[0].href;},parseScriptJSON:function(scriptEl,validate){var s=$(scriptEl).html();if(!(s)){return null;}try{s=$.parseJSON(s);}catch(e){console.log(e);return null;}if(validate&&!(validate(s))){return null;}return s;},parseMessage:function(data){var content;var split=data.indexOf(MESSAGE_CONTENT_SEP);if(split!==-1){content=data.substring(split+MESSAGE_CONTENT_SEP.length);data=data.substring(0,split);}var message;try{message=JSON.parse(data);}catch(e){}if(!($.isPlainObject(message))){return null;}if(content!=null){message.content=content;}return message;},stringifyMessage:function(message){var content=message.content;if(content!=null){message=$.extend({},message);delete message.content;}var data=JSON.stringify(message);if(content!=null){data=[data,MESSAGE_CONTENT_SEP,content].join("");}return data;},isAwake:function(){return isAwake;},awake:function(){if(isAwake){throw"IllegalStateException: This page is already awake";}isAwake=true;this._notifyListeners({target:this,window:window},awakeListeners);awakeListeners.locked=true;},sleep:function(){if(!(isAwake)){throw"IllegalStateException: This page is already asleep";}isAwake=false;this._notifyListeners({target:this,window:window},sleepListeners);sleepListeners.locked=true;},addAwakeListener:function(handler,scope){if(awakeListeners.locked){throw"IllegalStateException: Cannot add an awake listener after awake() has been called. handler: "+handler+", scope: "+scope;}this._addListener(handler,scope,awakeListeners,"<site9.SleepMgr>");},removeAwakeListener:function(handler,scope){this._removeListener(handler,scope,awakeListeners,"<site9.SleepMgr>");},addSleepListener:function(handler,scope){if(awakeListeners.locked){console.warn("Adding sleep listener after awake() has been called. handler: ",handler,", scope: ",scope);}if(sleepListeners.locked){throw"IllegalStateException: Cannot add a sleep listener after sleep() has been called. handler: "+handler+", scope: "+scope;}this._addListener(handler,scope,sleepListeners,"<site9.SleepMgr>");},removeSleepListener:function(handler,scope){this._removeListener(handler,scope,sleepListeners,"<site9.SleepMgr>");},_addListener:function(handler,scope,list,_obj){if(!(handler)){throw"IllegalArgumentException: A handler function is required";}scope=scope||window;if(this._removeListener(handler,scope,list,_obj)){}list.push({scope:scope,handler:handler});},_removeListener:function(handler,scope,list,_obj){if(!(handler)){throw"IllegalArgumentException: A handler function is required";}scope=scope||window;var count=0;for(var i=list.length-1;i>=0;i--){if(list[i].scope===scope&&list[i].handler===handler){delete list[i].scope;delete list[i].handler;list.splice(i,1);count++;}}return count;},_notifyListeners:function(event,list){for(var i=0,n=list.length;i!==n;i++){site9.safely(list[i].handler,list[i].scope,event);}},_clearListeners:function(list){for(var i=0;i<list.length;i++){delete list[i].scope;delete list[i].handler;}if(list.splice){list.splice(0,list.length);}},jqns:function(ns,rest0,rest1){if(typeof(rest1)==="string"){return NAMESPACE(ns,Array.prototype.slice.call(arguments,1));}if(typeof(rest0)==="string"){return NAMESPACE(ns,rest0.split(/\s+/)).join(" ");}if($.isPlainObject(rest0)){var nsEvents={};for(var k in rest0){if(rest0.hasOwnProperty(k)){nsEvents[k+"."+ns]=rest0[k];}}return nsEvents;}if($.isArray(rest0)){return NAMESPACE(ns,rest0);}return"."+ns;}};function NAMESPACE(ns,eventNames){return eventNames.map(function(anEventName){return(anEventName+"."+ns);});}site9.baseURL=site9.resolveURL("/");$(function(){site9.awake();$(window).on("pagehide",function(){site9.sleep();$(window).on("pageshow",function(){site9.awake();});});});$(window).unload(function(){site9._clearListeners(awakeListeners);site9._clearListeners(sleepListeners);});})(jQuery);(function($){var Queue=function(name){this.name=name;this.q=[];this.timeout=0;var me=this;this.__run=function(){unschedule(me);me._run();};};$.extend(Queue.prototype,{delay:1,add:function(fn,scope){if(fn===$.noop||!(fn)){return;}this.q.push(fn,scope);schedule(this);},once:function(fn,scope){this.remove(fn,scope);this.add(fn,scope);},remove:function(fn,scope){var q=this.q;for(var i=0,n=q.length;i<n;){var aFn=q[i++];var aScope=q[i++];if(aFn===fn&&aScope==scope){q[i-2]=q[i-1]=null;}}},removeScope:function(scope){if(!(scope)){return;}var q=this.q;for(var i=0,n=q.length;i<n;){var aFn=q[i++];var aScope=q[i++];if(aScope==scope){q[i-2]=q[i-1]=null;}}},flush:function(){var q=this.q;this.q=[];for(var i=0,n=q.length;i<n;){var fn=q[i++];var scope=q[i++];if(fn){fn.call(scope);}}},_run:function(){this.flush();},drain:function(){var attempt=0;while(this.q.length&&(attempt++<15)){this.flush();}if(this.q.length){console.warn(this,".drain(): Failed to fully drain after ",attempt," attempts");}}});var FRAME=(1000/60);var requestAnimationFrame=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);function schedule(me){if(me.timeout){return;}if(me.delay<FRAME&&requestAnimationFrame){me.timeout=requestAnimationFrame(me.__run);}else{me.timeout=setTimeout(me.__run,me.delay);}}function unschedule(me){me.timeout=0;}site9.Queue=Queue;$.extend(site9,{readDOM:function(fn,scope){ReadQ.add(fn,scope);},writeDOM:function(fn,scope){WriteQ.add(fn,scope);},afterDOM:function(fn,scope){AfterQ.once(fn,scope);},syncDOM:function(){while(ReadQ.q.length||WriteQ.q.length||AfterQ.q.length){while(ReadQ.q.length||WriteQ.q.length){ReadQ.flush();WriteQ.flush();}AfterQ.flush();}},forgetDOMScope:function(scope){ReadQ.removeScope(scope);WriteQ.removeScope(scope);AfterQ.removeScope(scope);}});var ReadQ=new site9.Queue("site9.DomReadQ");var WriteQ=new site9.Queue("site9.DomWriteQ");var AfterQ=new site9.Queue("site9.DomAfterQ");ReadQ._run=WriteQ._run=AfterQ._run=function(){site9.syncDOM();};})(jQuery);(function($){var INHERITED_REGEXP=/^(\#(fcc|ffcccc)|rgb\(\s*255\s*,\s*204\s*,\s*204\s*\))$/i;var TRANSPARENT_REGEXP=/^transparent|rgba\(\s*0\s*,\s*0\s*,\s*0\s*,\s*0\s*\)$/i;function calculateInheritedBackgroundColor(){var j=$(this);if(INHERITED_REGEXP.test(j.css("background-color"))){var pColor="transparent";var pNode=this;while(TRANSPARENT_REGEXP.test(pColor)&&pNode.parentNode){pNode=pNode.parentNode;pColor=$(pNode).css("background-color");}if(pColor){j.css("background-color",pColor);}}}function calculateAutoWidth(){var maxRight=$(window).width();var j=$(this);var left=j.offset().left;var p=j.offsetParent();var right=Math.min(p.offset().left+p.outerWidth(),maxRight);if((left+j.outerWidth())!=right){j.width((right-left)+(j.width()-j.outerWidth()));}}var HTML=$(document.documentElement);var b=$.browser;var webKit;var mobileSafari=(/applewebkit.*?mobile.*?safari/i).test(navigator.userAgent);var ie;var ff;if(b.webkit||b.safari||b.chrome){webKit=parseFloat(b.version);}if(b.msie){ie=parseFloat(b.version);}if(b.mozilla){ff=parseFloat(b.version);}site9.quirks={};if(webKit){site9.quirks.shortLines=true;HTML.addClass("s9-qk-short-lines");}if(mobileSafari){$(function(){HTML.on("click",$.noop);});}if(ie){site9.addAwakeListener(function(){$("option").each(calculateInheritedBackgroundColor);});}if(ie<9){site9.addAwakeListener(function(){$(".s9-tpl-content").each(calculateAutoWidth);});$(window).resize(function(){$(".s9-tpl-content").each(calculateAutoWidth);});}if(ie<9){HTML.addClass("s9-qk-no-box-shadow");}if(ie<9){site9.quirks.noSVGImg=true;}if(ie){HTML.addClass("s9-qk-comps-need-bg");}if(ff){HTML.addClass("s9-qk-sm-textarea");}})(jQuery);(function($){site9.addAwakeListener(function(){var info=loadInfo();if(info){site9.PROJECT=INT(info.project);site9.PAGE=INT(info.page);site9.LAYOUT=INT(info.layout);site9.LAYOUT_TYPE_TITLE=STR(info.layoutTypeTitle);site9.SAFE_MODE=BOOL(info.safeMode);site9.ROAD_BLOCK_MSG=STR(info.roadBlockMsg);site9.BODY_STYLE=(info.bodyStyle);}site9.OBJS=loadObjs();});function STR(arg){return(arg?(""+arg):"");}function INT(arg){return(arg|0);}function BOOL(arg){return !!(arg);}function loadInfo(){return site9.parseScriptJSON("#s9-info",$.isPlainObject);}function loadObjs(){var objs=site9.parseScriptJSON("#s9-objs");if(!(objs)){return[];}if(site9.migrateObjs){objs=site9.migrateObjs(objs);}return objs.rows;}})(jQuery);(function($){var MarkerId=1000;var ByOid={};var ById={};var ByMarkerId={};var listeners=[];var MGR={toString:function(){return"[site9.MarkerMgr]";},active:true,setActive:function(flag){this.active=!!(flag);},$:function(){return $("#s9-notes");},getRootEl:function(){return this.$()[0];},isHidden:function(){return this.$().hasClass("s9--off");},setHidden:function(flag){this.$().toggleClass("s9--off",!!(flag));},showsUnselectedMarkers:function(){return !(this.$().hasClass("s9--hide-unselected"));},setShowsUnselectedMarkers:function(newShowsUnselectedMarkers){this.$().toggleClass("s9--hide-unselected",!(newShowsUnselectedMarkers));},getMarkerForEl:function(el){var rootEl=this.getRootEl();var markerId;while(el&&(el!==rootEl)&&!(markerId)){markerId=$.data(el,"s9_marker");el=el.parentNode;}return ByMarkerId[markerId];},getMarkerForRef:function(ref,autoCreate){if(!(ref)){return;}var m=(ByOid[ref.oid]||ById[ref.id]);if(m){m.setRef(ref);}else{if(autoCreate){m=new Marker(ref);}}return m;},getMarkerForMarkerId:function(markerId){return ByMarkerId[markerId];},getMarkerWithSortOrder:function(sortOrder){for(var markerId in ByMarkerId){var m=ByMarkerId[markerId];if(m.sortOrder===sortOrder){return m;}}return null;},getMarkers:function(){var markers=[],n=0;for(var markerId in ByMarkerId){markers[n++]=ByMarkerId[markerId];}markers.sort(compareSortOrders);return markers;},setMarkers:function(markers){for(var markerId in ByMarkerId){var marker=ByMarkerId[markerId];if(markers.indexOf(marker)===-1){marker.destroy();}}},multiSelect:false,setMultiSelect:function(flag){this.multiSelect=!!(flag);},simpleSelect:false,setSimpleSelect:function(flag){this.simpleSelect=!!(flag);},getSelectionModel:function(){return this;},clearSelections:function(){this.setSelectedMarkers(null);},getSelectedMarkers:function(){var markers=[],n=0;for(var markerId in ByMarkerId){var m=ByMarkerId[markerId];if(m.selected){markers[n++]=m;}}return markers;},setSelectedMarkers:function(markers){var selected={};if(markers){for(var i=0,n=markers.length;i<n;i++){selected[markers[i].markerId]=true;}}for(var markerId in ByMarkerId){var m=ByMarkerId[markerId];m.setSelected(selected[markerId]);}},revealMarker:function(marker){if(!(marker)){return;}var doc=marker.el[0].ownerDocument;var win=(doc.defaultView||doc.parentWindow);var body=win.document.body;var x=marker.locX,y=marker.locY,w=win.innerWidth,h=win.innerHeight,MARGIN=40;body.scrollLeft=Math.min(Math.max((x+MARGIN-w),body.scrollLeft),(x-MARGIN));body.scrollTop=Math.min(Math.max((y+MARGIN-h),body.scrollTop),(y-MARGIN));},onselectionchange:function(event){site9._notifyListeners(event,listeners);},addListener:function(handler,scope){return site9._addListener(handler,scope,listeners,this);},removeListener:function(handler,scope){return site9._removeListener(handler,scope,listeners,this);}};function compareSortOrders(a,b){return(a.sortOrder-b.sortOrder);}var EVENTS={mousedown:function(event){if(MGR.active){var m=MGR.getMarkerForEl(this);if($.contains(m.tipWrapEl[0],event.target)){return;}var shiftKey=(event.shiftKey||event.ctrlKey||event.metaKey);var newSelected;var keepExisting;if(m.selected){newSelected=(MGR.simpleSelect?false:!(shiftKey));keepExisting=true;}else{newSelected=true;keepExisting=(MGR.multiSelect&&(MGR.simpleSelect||shiftKey));}if(keepExisting){m.setSelected(newSelected);}else{MGR.setSelectedMarkers([m]);}event.preventDefault();}},mouseenter:function(event){if(MGR.active){MGR.getMarkerForEl(this).setHighlighted(true);}},mouseleave:function(event){if(MGR.active){MGR.getMarkerForEl(this).setHighlighted(false);}}};site9.addAwakeListener(function(){$('<div id="s9-notes"/>').insertBefore("#s9-body");site9.OBJS.forEach(function(row){if(row.en==="Annotation"){MGR.getMarkerForRef(row,true).setVals(row.vals);}});MGR.$().on(EVENTS,".s9-note");});site9.addSleepListener(function(){MGR.$().off(EVENTS,".s9-note");for(var markerId in ByMarkerId){ByMarkerId[markerId].destroy();}MGR.$().remove();site9._clearListeners(listeners);});site9.MarkerMgr=MGR;var Marker=function(ref){this.initWithRef(ref);};var MARKER_TPL=['<samp class="s9-note s9--hflip s9--vflip">','<samp class="s9-note-pin">','<samp class="s9-note-pt"></samp>','<a class="s9-note-num">1</a>',"</samp>",'<samp class="s9-note-tip-wr">','<samp class="s9-note-tip">','<samp class="s9-note-subject"></samp>','<samp class="s9-note-body"></samp>',"</samp>","</samp>","</samp>"].join("");Marker.prototype={oid:null,id:null,locX:0,locY:0,sortOrder:0,subject:"",body:"",activeStates:null,hiddenWhenInactiveFlag:0,selected:false,highlighted:false,active:true,hidden:false,peeked:false,initWithRef:function(ref){var me=this;this._updatePeeked=function(){return me.updatePeeked();};this.markerId=MarkerId++;ByMarkerId[this.markerId]=this;this.el=$(MARKER_TPL).prependTo(MGR.$());this.pinEl=this.el.children(".s9-note-pin");this.ptEl=this.pinEl.children(".s9-note-pt");this.numEl=this.pinEl.children(".s9-note-num");this.tipWrapEl=this.el.children(".s9-note-tip-wr");this.tipEl=this.tipWrapEl.children(".s9-note-tip");this.subjectEl=this.tipEl.children(".s9-note-subject");this.bodyEl=this.tipEl.children(".s9-note-body");this.el.data("s9_marker",this.markerId);this.setRef(ref);site9.PageStateMgr.addListener(this.updateActive,this);},destroy:function(){this.setSelected(false);if(this.updatePeekedTimer){clearTimeout(this.updatePeekedTimer);}site9.PageStateMgr.removeListener(this.updateActive,this);this.el.remove();this.subjectEl=this.bodyEl=this.tipEl=this.tipWrapEl=this.ptEl=this.numEl=this.pinEl=this.el=null;delete ByOid[this.oid];delete ById[this.id];delete ByMarkerId[this.markerId];this.isDestroyed=true;},getRef:function(){return{en:"Annotation",id:this.id,oid:this.oid};},setRef:function(ref){ref=JSON.parse(JSON.stringify(ref));if(this.oid){delete ByOid[this.oid];}this.oid=ref.oid;if(this.oid){ByOid[this.oid]=this;}if(this.id){delete ById[this.id];}this.id=ref.id;if(this.id){ById[this.id]=this;}this.updateHidden();},getVals:function(){return{locX:this.locX,locY:this.locY,sortOrder:this.sortOrder,subject:this.subject,body:this.body,activeStates:this.activeStates,hiddenWhenInactiveFlag:this.hiddenWhenInactiveFlag};},setVals:function(vals){vals=JSON.parse(JSON.stringify(vals));if(!(this.__modified)&&vals.hasOwnProperty("locX")){this.setLocX(vals.locX);}if(!(this.__modified)&&vals.hasOwnProperty("locY")){this.setLocY(vals.locY);}if(vals.hasOwnProperty("sortOrder")){this.setSortOrder(vals.sortOrder);}if(vals.hasOwnProperty("subject")){this.setSubject(vals.subject);}if(vals.hasOwnProperty("body")){this.setBody(vals.body);}if(vals.hasOwnProperty("activeStates")){this.setActiveStates(vals.activeStates);}if(vals.hasOwnProperty("hiddenWhenInactiveFlag")){this.setHiddenWhenInactiveFlag(vals.hiddenWhenInactiveFlag);}},getInstanceNum:function(){return this.markerId;},setLocX:function(locX){locX=(locX||0);if(this.locX===locX){return;}this.locX=locX;this.el.css("left",Math.max(-1,locX)+"px");this.el.toggleClass("s9--hflip",(locX<255));},setLocY:function(locY){locY=(locY||0);if(this.locY===locY){return;}this.locY=locY;this.el.css("top",Math.max(-1,locY)+"px");this.el.toggleClass("s9--vflip",(locY<35));},setSortOrder:function(sortOrder){sortOrder=(sortOrder||0);if(this.sortOrder===sortOrder){return;}this.sortOrder=sortOrder;this.numEl.text((sortOrder+1).toString());var markers=MGR.getMarkers();var prevMarker=markers[markers.indexOf(this)-1];if(prevMarker){this.el.insertAfter(prevMarker.el);}else{this.el.prependTo(MGR.$());}},setSubject:function(subject){subject=(subject||"");if(this.subject===subject){return;}this.subject=subject;this.subjectEl.text(subject).css("display",(subject?"":"none"));},setBody:function(body){body=(body||"");if(this.body===body){return;}this.body=body;this.bodyEl.text(body).css("display",(body?"":"none"));},setActiveStates:function(activeStates){activeStates=(activeStates||null);if(this.activeStates===activeStates){return;}this.activeStates=activeStates;if(activeStates){this.numEl.attr("href","#ps="+activeStates);}else{this.numEl.removeAttr("href");}this.updateActive();},setHiddenWhenInactiveFlag:function(hiddenWhenInactiveFlag){hiddenWhenInactiveFlag=(hiddenWhenInactiveFlag||0);if(this.hiddenWhenInactiveFlag===hiddenWhenInactiveFlag){return;}this.hiddenWhenInactiveFlag=hiddenWhenInactiveFlag;this.updateHidden();},setSelected:function(selected){selected=!!(selected);if(this.selected===selected){return;}this.selected=selected;this.el.toggleClass("s9--selected",selected);this.updateTip();MGR.onselectionchange({removed:(selected?[]:[this]),added:(selected?[this]:[])});},setHighlighted:function(highlighted){highlighted=!!(highlighted);if(this.highlighted===highlighted){return;}this.highlighted=highlighted;this.el.toggleClass("s9--highlighted",highlighted);this.updateTip();},updateActive:function(){var active=!!(site9.PageStateMgr.checkStateValues(this.activeStates));if(this.active===active){return;}this.active=active;this.updateHidden();},updateHidden:function(){var hidden=!!(this.hiddenWhenInactiveFlag&&!(this.active));if(!(this.oid)&&!(this.id)){hidden=true;}if(this.hidden===hidden){return;}this.hidden=hidden;this.el.toggleClass("s9--hidden",hidden);},setPeeked:function(peeked){peeked=!!(peeked);if(this.peeked===peeked){return;}this.peeked=peeked;this.updateTip();},peekUntil:-1,updatePeekedTimer:null,peek:function(ms){this.peekUntil=Math.max(this.peekUntil,Date.now()+ms);this.updatePeeked();},updatePeeked:function(){if(this.updatePeekedTimer){clearTimeout(this.updatePeekedTimer);this.updatePeekedTimer=null;}var peekLeft=(this.peekUntil-Date.now());this.setPeeked(peekLeft>0);if(this.peeked){this.updatePeekedTimer=setTimeout(this._updatePeeked,peekLeft);}},updateTip:function(){var vis=(!(this.hidden)&&(this.highlighted||this.peeked)&&(this.subject||this.body));if(vis){this.tipEl.fadeIn(100);}else{this.tipEl.fadeOut(100);}}};})(jQuery);(function(){var shouldScrollWindowOnOrienatationChange=/i(phone|pod)/.test(navigator.platform.toLowerCase());var listeners=[];var orientation=null;var ORIENTATION_CLASS_NAMES={"oriented-up":0,"oriented-down":180,"oriented-left":90,"oriented-right":-90};function onNativeOrientationChange(event){site9.OrientationMgr.setOrientation(window.orientation);}site9.OrientationMgr={toString:function(){return"[site9.OrientationMgr]";},getOrientation:function(){return orientation;},setOrientation:function(newOrientation){var oldOrientation=this.getOrientation();newOrientation=Math.min(Math.max(-90,90*Math.round((newOrientation||0)/90)),180);if(oldOrientation!=newOrientation){orientation=newOrientation;this.onchange({target:this,type:"orientationchange",from:oldOrientation,to:newOrientation,preventDefault:function(){}});}},onchange:function(event){var j=jQuery("html");var orientation=this.getOrientation();for(var aClassName in ORIENTATION_CLASS_NAMES){j.toggleClass(aClassName,(orientation==ORIENTATION_CLASS_NAMES[aClassName]));}if(shouldScrollWindowOnOrienatationChange){window.scrollTo(0,0);}site9._notifyListeners(event,listeners);},addListener:function(handler,scope){return site9._addListener(handler,scope,listeners,this);},removeListener:function(handler,scope){return site9._removeListener(handler,scope,listeners,this);},_awake:function site9_OrientationMgr_awake(){if(!(isNaN(window.orientation))&&document.body.addEventListener){document.body.addEventListener("orientationchange",onNativeOrientationChange,false);onNativeOrientationChange();}},_sleep:function site9_OrientationMgr_sleep(){site9._clearListeners(listeners);if(document.body.removeEventListener){document.body.removeEventListener("orientationchange",onNativeOrientationChange,false);}}};site9.addAwakeListener(site9.OrientationMgr._awake,site9.OrientationMgr);site9.addSleepListener(site9.OrientationMgr._sleep,site9.OrientationMgr);})();(function($){var map={};var listeners=[];var active=true;var WINDOW_NAME_PREFIX="site9.PageStateMgr:";var windowNameValues={};var MGR={setGlobalStates:function(globalStates){for(var oid in map){map[oid].global=false;}for(var i=0,n=globalStates.length;i<n;i++){var oid=globalStates[i];var state=this.getState(oid);if(state){state.global=true;if(oid in windowNameValues){if(state.getValue()===state.getDefaultValue()){state.setValue(windowNameValues[oid]);}}}}},getMonitoredStateValues:function(){var parsed={};var states=getMonitoredStates();for(var i=0,n=states.length;i<n;i++){var state=states[i];parsed[state.getOid()]=[state.getValue()];}return formatStateValues(parsed);},getURLWithMonitoredStateValues:function(url){url=(url||"");var stateValues=this.getMonitoredStateValues();if(stateValues){var h=url.indexOf("#")+1;var str=$.param({ps:stateValues},true);var pre="";if(!(h)){pre="#";}else{if(h<url.length){pre="&";}}url=url+pre+str;}return url;},resetMonitoredStates:function(){var states=getMonitoredStates();for(var i=0,n=states.length;i<n;i++){states[i].resetValue();}},getState:function(oid){return(oid?(map[oid]||new PageState(oid)):null);},getReferencedStates:function(stateValues){var states=[];var parsed=parseStateValues(stateValues);for(var oid in parsed){states.push(this.getState(oid));}states.sort(function(a,b){return(a.getOid()-b.getOid());});return states;},setStateValues:function(stateValues){applyStateValues(stateValues);},unsetStateValues:function(stateValues){unapplyStateValues(stateValues);},pushStateValues:function(stateValues){var parsedOldValues={};applyStateValues(stateValues,parsedOldValues);return formatStateValues(parsedOldValues);},checkStateValues:function(stateValues){var parsed=parseStateValues(stateValues);for(var oid in parsed){var state=this.getState(oid);var values=parsed[oid];if(values.indexOf(state.getValue())===-1){return false;}}return true;},onchange:function(event){site9._notifyListeners(event,listeners);},addListener:function(handler,scope){return site9._addListener(handler,scope,listeners,this);},removeListener:function(handler,scope){return site9._removeListener(handler,scope,listeners,this);},isActive:function(){return active;},setActive:function(flag){active=!!(flag);},handleNavigation:function(url){if(!(this.isActive())){return false;}if(!(site9.resolveURL(url).startsWith(site9.resolveURL("#")))){return false;}var stateValues=getStateValuesFromURL(url);if(!(stateValues)){return false;}applyStateValues(stateValues);return true;},toString:function(){return"[site9.PageStateMgr]";}};function getMonitoredStates(){var states=[],sn=0;for(var oid in map){var state=map[oid];if(state.listeners.length){states[sn++]=state;}}states.sort(function(a,b){return(a.getOid()-b.getOid());});return states;}function applyStateValues(stateValues,parsedOldValues){var parsed=parseStateValues(stateValues);for(var oid in parsed){var state=MGR.getState(oid);var values=parsed[oid];var oldValue=state.getValue();var newValue=values[values.length-1];var changed=changeStateValue(state,oldValue,newValue);if(changed&&parsedOldValues){parsedOldValues[state.getOid()]=[oldValue];}}}function unapplyStateValues(stateValues){var parsed=parseStateValues(stateValues);for(var oid in parsed){var state=MGR.getState(oid);var values=parsed[oid];var oldValue=state.getValue();if(values.indexOf(oldValue)!==-1){var newValue=0;while(values.indexOf(newValue)!==-1){newValue++;}changeStateValue(state,oldValue,newValue);}}}function __isValidSourceState(oid){return(oid!=="")&&!(isNaN(oid));}function __isValidSourceValue(value){return(value!=="")&&!(isNaN(value));}function parseStateValues(stateValues){var parsed={};if(stateValues){stateValues=stateValues.replace(/[\(\)]/g,"").replace(/[\&\|]/g,",");var parts=stateValues.split(",");for(var i=0,n=parts.length;i<n;i++){var tokens=parts[i].split(":");var oid=tokens[0];var value=tokens[1];if(__isValidSourceState(oid)&&__isValidSourceValue(value)){var values=parsed[oid];if(!values){values=parsed[oid]=[];}values.push(value|0);}else{console.warn("site9.PageStateMgr.parseStateValues(): Dropping invalid entry: ",parts[i]);}}}return parsed;}function formatStateValues(parsed){var parts=[];if(parsed){for(var oid in parsed){var values=parsed[oid];for(var i=0;i<values.length;i++){var value=values[i];if(__isValidSourceState(oid)&&__isValidSourceValue(value)){parts.push(oid+":"+value);}else{console.warn("site9.PageStateMgr.formatStateValues(): Dropping invalid entry: ",oid+":"+value);}}}}return parts.join(",");}function getStateValuesFromURL(url){var parts=[];if(url){var idx=url.indexOf("#")+1;if(idx){var h="&"+url.substring(idx);var re=/\&ps=([^\&]+)/g;var m;while((m=re.exec(h))){parts.push(decodeURIComponent(m[1]));}}}return parts.join(",");}function PageState(oid){this.getOid=function(){return oid;};this.value=this.getDefaultValue();this.listeners=[];map[oid]=this;}PageState.prototype={getDefaultValue:function(){return 0;},getValue:function(){return this.value;},setValue:function(newValue){var oldValue=this.getValue();changeStateValue(this,oldValue,newValue|0);},resetValue:function(){this.setValue(this.getDefaultValue());},onchange:function(event){site9._notifyListeners(event,this.listeners);MGR.onchange(event);},addListener:function(handler,scope){return site9._addListener(handler,scope,this.listeners,this);},removeListener:function(handler,scope){return site9._removeListener(handler,scope,this.listeners,this);},toString:function(){return"<PageState "+this.getOid()+">";}};function changeStateValue(state,oldValue,newValue){if(oldValue===newValue){return;}state.value=newValue;state.onchange({state:state,from:oldValue,to:newValue});return true;}if(window.name.startsWith(WINDOW_NAME_PREFIX)){try{windowNameValues=parseStateValues(window.name.substring(WINDOW_NAME_PREFIX.length));}catch(e){console.log("cannot load value from window name: ",e);}}site9.addSleepListener(function(){var windowNameValues={};for(var oid in map){windowNameValues[oid]=[map[oid].getValue()];}try{window.name=(WINDOW_NAME_PREFIX+formatStateValues(windowNameValues));}catch(e){console.log("cannot store values in window name: ",e);}});var loadValuesFromWindowURL=function(){applyStateValues(getStateValuesFromURL(window.location.href));};site9.addAwakeListener(function(){var globalStates=[];site9.OBJS.forEach(function(row){if((row.en==="IXLayoutState")&&(row.vals.owningLayout===null)){globalStates.push(row.oid);}});MGR.setGlobalStates(globalStates);$(window).on("hashchange",loadValuesFromWindowURL);loadValuesFromWindowURL();});site9.addSleepListener(function(){$(window).off("hashchange",loadValuesFromWindowURL);});site9.addSleepListener(function(){for(var oid in map){site9._clearListeners(map[oid].listeners);delete map[oid];}site9._clearListeners(listeners);});var handleMessage=function(jqEvt){var event=jqEvt.originalEvent;if(event.source.parent!==window){return;}var message=site9.parseMessage(event.data);var messageType=(message&&message.type);if(messageType==="s9-page-state-change"){if(message.content.startsWith("#")){message.content=getStateValuesFromURL(message.content);}applyStateValues(message.content);}};site9.addAwakeListener(function(){$(window).on("message",handleMessage);});site9.addSleepListener(function(){$(window).off("message",handleMessage);});site9.PageStateMgr=MGR;})(jQuery);(function($){site9.open=function(url,defaultWillDo){if(!(url)){return true;}if(site9.PageStateMgr&&site9.PageStateMgr.handleNavigation(url)){return true;}if(navigator.standalone&&site9.resolveURL(url).startsWith(site9.baseURL)){defaultWillDo=false;}if(!(defaultWillDo)&&site9.navigateTo(url)){return true;}};site9.navigateTo=function(url){window.location.href=url;return true;};site9.allowDefaultNavigationForLinks=true;function handleClick(event){if(event.isDefaultPrevented()){return;}var j=$(event.target);j=j.parents().addBack().filter("a[href]");j=j.filter(':not([target]), [target="_top"], [target="_parent"], [target="_self"]');j=j.last();if(!(j.length)){return;}var url=j.attr("href");if(site9.open(url,site9.allowDefaultNavigationForLinks)){event.preventDefault();return;}}site9.addAwakeListener(function(){$(document).on("click",handleClick);});site9.addSleepListener(function(){$(document).off("click",handleClick);});})(jQuery);if(document.addEventListener){jQuery(function(){var lockedTarget;var clearTargetTimer;function handleEvent(event){clearTimeout(clearTargetTimer);clearTargetTimer=setTimeout(clearLockedTarget,500);var el=event.target;var body=document.body;while(el!==body){var isScrollable=canScroll(el,event);if(isScrollable){lockedTarget=el;return;}var isLockedTarget=(lockedTarget===el);if(isLockedTarget){event.stopPropagation();event.preventDefault();return;}el=el.parentNode;}}function clearLockedTarget(){clearTargetTimer=null;if(lockedTarget){lockedTarget=null;}}function canScroll(el,event){var axis=event.axis;var horiz=!!((axis&&axis===event.HORIZONTAL_AXIS)||event.wheelDeltaX);var vert=!!((axis&&axis===event.VERTICAL_AXIS)||event.wheelDeltaY);if(!((horiz&&scrolls(el,"x"))||(vert&&scrolls(el,"y")))){return false;}var signumX=signum(event.wheelDeltaX,horiz&&event.wheelDelta,horiz&&event.detail);var signumY=signum(event.wheelDeltaY,vert&&event.wheelDelta,vert&&event.detail);var sLeft=el.scrollLeft;var sTop=el.scrollTop;if(signumX>0&&sLeft>0){return true;}if(signumY>0&&sTop>0){return true;}if(signumX<0&&el.scrollWidth-(sLeft+el.clientWidth)>0){return true;}if(signumY<0&&el.scrollHeight-(sTop+el.clientHeight)>0){return true;}return false;}function scrolls(el,dir){var val=jQuery(el).css("overflow-"+dir);return(val==="auto"||val==="scroll");}function signum(){for(var i=0,n=arguments.length;i<n;i++){var a=arguments[i];if(!(isNaN(a))){return(a>0?1:a<0?-1:0);}}}document.body.addEventListener("DOMMouseScroll mousewheel",handleEvent,false);});}if(site9.mobileDeviceType&&navigator.standalone){jQuery(function(){function doReload(){stopHolding();posx=negx=posy=negy=posz=negz=0;if(window.confirm("Reload?")){window.location.reload();}}var sx0,sy0,sx1,sy1;jQuery(window).on("touchstart",function(event){var ts=event.originalEvent.touches;if(ts.length===2){sx0=ts[0].pageX;sy0=ts[0].pageY;sx1=ts[1].pageX;sy1=ts[1].pageY;startHolding();}}).on("touchmove",function(event){event=event.originalEvent;var ts=event.touches;var dx0=Math.abs(ts[0].pageX-sx0);var dy0=Math.abs(ts[0].pageY-sy0);var dx1=Math.abs(ts[1].pageX-sx1);var dy1=Math.abs(ts[1].pageY-sy1);if(ts.length!==2||dx0>10||dy0>10||dx1>10||dy1>10){stopHolding();}}).on("touchcancel touchend",function(event){stopHolding();});var holdTimer;var holdMsg=jQuery('<div id="s9-hold-to-reload-msg"><p>Hold to Reload</p></div>').css({position:"absolute",left:"0",width:"100%",top:"0",height:"100%",background:"rgba( 0, 0, 0, 0.5 )"}).hide().appendTo("body");holdMsg.children().css({position:"absolute",left:"50%",width:"200px","margin-left":"-100px","text-align":"center",top:"50%",height:"200px","margin-top":"-100px","line-height":"200px",color:"white","font-size":"16px","font-weight":"bold"});function startHolding(){clearTimeout(holdTimer);holdTimer=setTimeout(doReload,1000);holdMsg.show();}function stopHolding(){clearTimeout(holdTimer);holdTimer=null;holdMsg.hide();}});}(function($){var NONE={};var EMPTY_ARRAY=[];$.extend(site9,{updateBlankStatus:function(){site9.afterDOM(updateBlankStatus);},hasAnyOwnProperties:function(obj,k1){for(var i=1,n=arguments.length;i<n;i++){if(obj.hasOwnProperty(arguments[i])){return true;}}return false;}});var updateBlankStatus=function(){var hasComps=!!($("#s9-body .s9--alive").not(".s9--newly-removed").not(".s9-tpl-content").length);var hasNotes=!!($("#s9-notes .s9-note").length);var isCorrupt=!!($("#s9-corrupt-layout-msg").length);$("html").toggleClass("s9--blank",!(hasComps||hasNotes||isCorrupt));};site9.addAwakeListener(function(){var msg=$('<div id="s9-blank-msg"><h1></h1><p></p></div>');if(site9.ROAD_BLOCK_MSG){msg.children("h1").text("Unavailable");msg.children("p").text("The "+site9.ROAD_BLOCK_MSG+" is not available.");}else{msg.children("h1").text("No Content");msg.children("p").text("This "+(site9.LAYOUT_TYPE_TITLE||"design")+" is blank.");}msg.insertBefore("#s9-body");});site9.addSleepListener(function(){$("#s9-blank-msg").remove();});site9.updateBlankStatus();var ENTITLEMENTS_NEEDED_MESSAGE='<a target="_blank" title="This component is not available in this limited account. Click for more info." class="s9-pro-badge" href="http://www.protoshare.com/Pro/">Pro</a>';var ID_COUNTER=1;var COMP_MAP={};var MAP_ID_COUNTER=1;site9.support={create:function(el){if(!(site9.isAwake())){throw new Error("Component created while page was asleep: "+JSON.stringify(s9));}if(el.s9_id){throw new Error("IllegalState: el already has id: "+el.s9_id);}var impl=site9.support[el.s9_type];if(impl){for(var k in impl){if(k.startsWith("s9_")&&(el[k]==null)){el[k]=impl[k];}}}else{console.warn("NO IMPLEMENTATION EXISTS FOR: ",el,", type: ",el.s9_type);var handleUnknownImplementationError;try{handleUnknownImplementationError=window.frameElement.s9_handleUnknownImplementationError;}catch(e){}if(handleUnknownImplementationError){try{handleUnknownImplementationError(el,el.s9_type);}catch(e){console.log(e,e.stack);}}return;}el.s9_id=MAP_ID_COUNTER++;var isRendered=(el.s9_contentSEL?($(el).find(el.s9_contentSEL).length>0):true);var savedConfig=(el.s9_config||NONE);if(!(isRendered)){impl.initContent(el);el.s9_config=null;}el.s9_init();el.s9_setAlive(true);if(!(el.s9_private)){COMP_MAP[el.s9_id]=el;}if(el.s9_contentCompSEL){el.s9_listCount=0;el.s9_itemCount=0;el.s9_initComps();}if(!(isRendered)){el.s9_setConfig(savedConfig);}},destroy:function(el){if(!(el.s9_id)){throw"IllegalState: el has no id: "+el.s9_id;}if(el.s9_contentCompSEL){el.s9_destroyComps();}if(!(el.s9_private)){delete COMP_MAP[el.s9_id];}el.s9_setAlive(false);el.s9_destroy();el.s9_id=null;var impl=site9.support[el.s9_type];if(impl){for(var k in impl){if(k.startsWith("s9_")){el[k]=null;}}}},id:function(el){var id=(el&&el.id||("s9_cgen"+(ID_COUNTER++)));return(el&&(el.id=id)||id);},alertWhenReady:function(){window.alert("INIT");var awake=false;var loaded=false;site9.addAwakeListener(function(){window.alert("site9.awake()");awake=true;});$(window).load(function(){window.alert("window.load()");loaded=true;});function checkReady(){var pending=site9.support["2043"].RetryQ.q.length;window.alert("checkReady(): awake: "+awake+", loaded: "+loaded+", pending: "+pending);if(!(awake)||!(loaded)||pending){setTimeout(checkReady,100);return;}window.alert("READY");}checkReady();},toggleContentPlaceHolder:function(el,needsPlaceHolder){var $el=$(el);var contentPlaceHolder=$el.children(".s9-content-placeholder");if(!(needsPlaceHolder)){contentPlaceHolder.remove();}else{if(!(contentPlaceHolder.length)){$el.append('<samp class="s9-content-placeholder"></samp>');}}},url:function(url){return url;}};site9.addAwakeListener(function(){$("#s9-body").find('script[type="text/javascript"]').remove();if(site9.BODY_STYLE){site9.support.applyBodyStyles(site9.BODY_STYLE);}var oldPageStateMgrActive=site9.PageStateMgr.isActive();site9.PageStateMgr.setActive(false);var stateInfo={},layoutInfo={};site9.OBJS.forEach(function(row){if(row.en==="IXLayoutState"){var vals=row.vals;if((row.oid|0)&&$.isPlainObject(vals)){stateInfo[row.oid]={stateName:vals.stateName,stateValueNames:(vals.valueNamesStr?vals.valueNamesStr.split(/[\r\n]+/):[])};}}else{if(row.en==="Layout"){var vals=row.vals;var MASTER_LAYOUT_TYPE=13;var MASTER_TYPE="Master";if(vals&&vals.bodyStyle){site9.support.applyBodyStyles(vals.bodyStyle);}if((row.oid|0)&&$.isPlainObject(vals)&&(vals.layoutType===MASTER_LAYOUT_TYPE)){layoutInfo[row.oid]=MASTER_TYPE;}}}});site9.OBJS.forEach(function(row){if(row.en==="LayoutsUsed"){var oidChild=row.vals.child.oid;var type=(layoutInfo[oidChild]||(""+oidChild));var config=valsToConfig(row.vals,stateInfo);var needsEntitlements=!!(row.needsEntitlements);findEls(row).forEach(function(el){el.s9_type=type;el.s9_needsEntitlements=needsEntitlements;el.s9_config=config;site9.support.create(el);});}});site9.PageStateMgr.setActive(oldPageStateMgrActive);site9.syncDOM();});function valsToConfig(vals,stateInfo){if(!($.isPlainObject(vals))){return;}var KEYS=["hiddenFlag","visibilityStates","animations","events","content","normalSettings","targetSettings","hoverSettings","clickSettings","linkedPagesStr"];var config=$.extend(true,{},vals);for(var key in config){if(KEYS.indexOf(key)===-1){delete config[key];}}config.stateValueNames=[];if(vals.linkedState){var linkedState=vals.linkedState.oid;if(stateInfo[linkedState]){config.linkedState=linkedState;$.extend(true,config,stateInfo[config.linkedState]);}}return config;}function findEls(row){var els=[];var base=("s9-"+row.en.toLowerCase()+"-"+(row.oid|0));var counter=2;var id=base;var el;while((el=$("#"+id).parent()[0])){els.push(el);id=base+"-"+(counter++);}return els;}site9.addSleepListener(function(){for(var id in COMP_MAP){var el=COMP_MAP[id];if(el){site9.support.destroy(el);}}});function hidePage(){$(document.documentElement).css("opacity","0");}function showPage(){$(document.documentElement).css("opacity","");}site9.addAwakeListener(showPage);site9.addSleepListener(hidePage);hidePage();var IMPL={NONE:NONE,s9_contentSEL:"> .s9-content",s9_contentItemSEL:".s9-content-itm",s9_isAlive:false,s9_isVisible:true,s9_linkedVisibilityStates:EMPTY_ARRAY,s9_linkedState:null,s9_init:function(){var config=this.s9_config;var itemSizing=this.s9_itemSizing;this.s9_config={linkedState:null,hiddenFlag:0,visibilityStates:null};this.s9_settings={};this.s9_sizing={width:null,height:null};this.s9_ordering={};this.s9_styles={};this.s9_contentStyles={};if(this.s9_contentCompSEL){this.s9_itemSizing={};}if(this.s9_needsEntitlements){var j=$(this);j.append(ENTITLEMENTS_NEEDED_MESSAGE);}this.s9__touchInfo={touchStartX:0,touchStartY:0,touchAndHoldTimeout:0,tapCount:0,multiTapTimeout:0};if(config){this.s9_setConfig(config);}if(itemSizing&&this.s9_contentCompSEL){this.s9_setItemSizing(itemSizing);}if(this.s9_preservesWhiteSpace){this.s9_setContentStyles({"white-space":"pre"});}this.s9_updateSizing();},initContent:function(el){el.s9_needsServerRender=true;},s9_initComps:function(comps){if(!(comps)){comps=$(this).find(this.s9_contentCompSEL);}var lists=comps.not(this.s9_contentItemSEL);var me=this;comps.each(function(){var isList=(jQuery.inArray(this,lists)!==-1);me.s9_initComp(this,isList);site9.support.create(this);if(isList){me.s9_listCount++;}else{me.s9_itemCount++;}});},s9_initComp:function(el,isList){el.s9_private=true;},s9_destroy:function(){this.s9_setLinkedState(null);this.s9_setLinkedVisibilityStates(EMPTY_ARRAY);this.s9_config=null;this.s9_linkedVisibilityStates=null;this.s9_linkedState=null;this.s9_settings=null;this.s9_isVisible=null;this.s9_sizing=null;this.s9_ordering=null;this.s9_styles=null;this.s9_contentStyles=null;if(this.s9_contentCompSEL){this.s9_itemSizing=null;}site9.forgetDOMScope(this);},s9_destroyComps:function(comps){if(!(comps)){comps=$(this).find(this.s9_contentCompSEL);}var lists=comps.not(this.s9_contentItemSEL);var me=this;comps.each(function(){var isList=(jQuery.inArray(this,lists)!==-1);site9.support.destroy(this);if(isList){me.s9_listCount--;}else{me.s9_itemCount--;}me.s9_destroyComp(this,isList);});},s9_destroyComp:$.noop,s9_setAlive:function(flag){flag=!!(flag);if(flag!==this.s9_isAlive){this.s9_applyAlive(flag);}},s9_applyAlive:function(newAlive){this.s9_isAlive=newAlive;var j=$(this);if(this.s9_className){j.toggleClass(this.s9_className,newAlive);}j.toggleClass("s9--alive",newAlive);site9.updateBlankStatus();if(newAlive){var linkedState=this.s9_linkedState;var linkedStateValue=(linkedState&&linkedState.getValue());if(linkedStateValue){this.s9_stateChanged({state:linkedState,from:0,to:linkedStateValue});}}},s9_setConfig:function(newConfig,dropMissing){var config=MERGE(this.s9_config,newConfig,dropMissing);if(config){this.s9_applyEssentialConfig(config);}if(config&&this.s9_isAlive){this.s9_applyConfig(config);}return config;},s9_applyEssentialConfig:function(config){if(config.hasOwnProperty("visibilityStates")){this.s9_updateLinkedVisibilityStates();}if(config.hasOwnProperty("linkedState")){this.s9_updateLinkedState();}if(site9.hasAnyOwnProperties(config,"normalSettings","targetSettings","hoverSettings","clickSettings")){this.s9_updateSettings();}if(site9.hasAnyOwnProperties(config,"visibilityStates","hiddenFlag")){this.s9_updateVisible();}var events=config.events;if(events){if(site9.hasAnyOwnProperties(events,"click","clickURL")){$(this).toggleClass("s9--clickable",!!(events.click||events.clickURL));}}},s9_applyConfig:$.noop,s9_setSizing:function(newSizing,dropMissing){var sizing=MERGE(this.s9_sizing,newSizing,dropMissing);if(sizing){this.s9_applySizing(sizing);}return sizing;},s9_applySizing:function(sizing){var widthChanged=sizing.hasOwnProperty("width");var heightChanged=sizing.hasOwnProperty("height");var widthFixed=(sizing.width!=null);var heightFixed=(sizing.height!=null);var styles={};if(this.s9_contentSEL){if(widthChanged){styles.width=(widthFixed?"100%":"");}if(heightChanged){styles.height=(heightFixed?"100%":"");if(this.s9_contentElIsSVG){forceLayoutRecalc($(this).find(this.s9_contentSEL)[0]);}}}if(this.s9_preservesWhiteSpace&&widthChanged){styles["white-space"]=(widthFixed?"pre-wrap":"pre");}this.s9_setContentStyles(styles);},s9_updateSizing:function(){site9.afterDOM(this.s9__updateSizing,this);},s9__updateSizing:function(){site9.readDOM(calculateSizing,this);var newSizing={};function calculateSizing(){var j=$(this);if(this.style.width){newSizing.width=j.outerWidth();}else{newSizing.width=null;}if(this.style.height){newSizing.height=j.outerHeight();}else{newSizing.height=null;}site9.writeDOM(applySizing,this);}function applySizing(){this.s9_setSizing(newSizing,true);}},s9_setOrdering:function(newOrdering,dropMissing){var ordering=MERGE(this.s9_ordering,newOrdering,dropMissing);if(ordering&&this.s9_isAlive){this.s9_applyOrdering(ordering);}return ordering;},s9_applyOrdering:function(ordering){if(ordering.hasOwnProperty("invCol")){var j=$(this);var lineBreak=j.next("br");var needsLineBreak=!(ordering.invCol);var hasLineBreak=!!(lineBreak.length);if(needsLineBreak!==hasLineBreak){if(needsLineBreak){j.after("<br>");}else{lineBreak.remove();}}}},s9_setItemSizing:function(newItemSizing,dropMissing){var itemSizing=MERGE(this.s9_itemSizing,newItemSizing,dropMissing);if(itemSizing){this.s9_applyItemSizing(itemSizing);}return itemSizing;},s9_applyItemSizing:$.noop,s9_setSettings:function(newSettings,dropMissing){var oldContentClass=this.s9_settings.contentClass;var settings=MERGE(this.s9_settings,newSettings,dropMissing);if(settings){this.s9_applyEssentialSettings(settings);}if(settings&&this.s9_isAlive){this.s9_applySettings(settings);this.s9_applyContentMarkUp(settings,oldContentClass);}return settings;},s9_applyEssentialSettings:$.noop,s9_applySettings:$.noop,s9_applyContentMarkUp:function(settings,oldContentClass){if(!(this.s9_contentSEL)||this.s9_contentCompSEL){return;}var contentClassChanged=settings.hasOwnProperty("contentClass");var contentIdChanged=settings.hasOwnProperty("contentId");if(!(contentClassChanged||contentIdChanged)){return;}var contentEl=$(this).find(this.s9_contentSEL);if(contentClassChanged){var newContentClass=settings.contentClass;if(oldContentClass){contentEl.removeClass(oldContentClass);}if(newContentClass){contentEl.addClass(newContentClass);}}if(contentIdChanged){var newContentId=settings.contentId;if(newContentId){contentEl.attr("id",newContentId);}else{contentEl.removeAttr("id");}}},s9_updateSettings:function(){var config=this.s9_config;var newSettings={};$.extend(newSettings,config.normalSettings);if(this.s9_isHover&&!(site9.mobileDeviceType)){$.extend(newSettings,config.hoverSettings);}if(this.s9_isTarget){$.extend(newSettings,config.targetSettings);}if(this.s9_isClick){$.extend(newSettings,config.clickSettings);}this.s9_setSettings(newSettings,true);},s9_setVisible:function(newVisible){newVisible=!!(newVisible);var visible;if(!!(this.s9_isVisible)!==newVisible){this.s9_isVisible=visible=newVisible;}if((visible!=null)){this.s9_applyVisible(newVisible);}return visible;},s9_applyVisible:function(visible){$(this).toggleClass("s9--hide",!visible);},s9_updateVisible:function(){var config=this.s9_config;var visible=!(config.hiddenFlag);if(config.visibilityStates){visible=!(visible);if(site9.PageStateMgr.checkStateValues(config.visibilityStates)){visible=!(visible);}}this.s9_setVisible(visible);},s9_setStyles:function(newStyles,dropMissing){var styles=MERGE(this.s9_styles,newStyles,dropMissing);if(styles){this.s9_applyStyles(styles);}return styles;},s9_applyStyles:function(styles){var j=$(this);j.css(styles);if(this.s9_isAlive&&site9.hasAnyOwnProperties(styles,"width","height")){if(this.s9_updateSizing!==$.noop){console.warn(this,".styles.width or height changed, calling s9_updateSizing");}this.s9_updateSizing();}},s9_setContentStyles:function(newContentStyles,dropMissing){var contentStyles=MERGE(this.s9_contentStyles,newContentStyles,dropMissing);if(contentStyles){this.s9_applyContentStyles(contentStyles);}return contentStyles;},s9_applyContentStyles:function(contentStyles){var contentEl=$(this);if(this.s9_contentSEL){contentEl=contentEl.find(this.s9_contentSEL);}contentEl.css(contentStyles);},s9_readContentStylesFromDOM:function(){var contentEl=$(this);if(this.s9_contentSEL){contentEl=contentEl.find(this.s9_contentSEL);}return{"font-size":contentEl.css("font-size")};},s9_setTarget:function(flag){var oldTarget=!!(this.s9_isTarget);flag=!!(flag);if(oldTarget===flag){return;}this.s9_isTarget=flag;if(this.s9_isAlive){this.s9_applyTarget(flag);}return flag;},s9_applyTarget:function(isTarget){this.s9_updateSettings();},s9_setHover:function(flag){var oldHover=!!(this.s9_isHover);flag=!!(flag);if(oldHover===flag){return;}this.s9_isHover=flag;if(this.s9_isAlive){this.s9_applyHover(flag);}return flag;},s9_applyHover:function(isHover){this.s9_updateSettings();if(this.s9_isClick&&!(isHover)){this.s9_setClick(false);}},s9_setClick:function(flag){var oldClick=!!(this.s9_isClick);flag=!!(flag);if(oldClick===flag){return;}this.s9_isClick=flag;if(this.s9_isAlive){this.s9_applyClick(flag);}return flag;},s9_applyClick:function(isClick){this.s9_updateSettings();},s9_mouseEntered:function(event){this.s9_setHover(true);var events=(this.s9_config.events||NONE);site9.PageStateMgr.setStateValues(events.enter);this.s9_mouseoutStateValues=site9.PageStateMgr.pushStateValues(events.hover);},s9_mouseExited:function(event){this.s9_setHover(false);var events=(this.s9_config.events||NONE);site9.PageStateMgr.setStateValues(events.leave);site9.PageStateMgr.setStateValues(this.s9_mouseoutStateValues);this.s9_mouseoutStateValues=null;},s9_mousePressed:function(event){this.s9_setClick(true);},s9_mouseReleased:function(event){this.s9_setClick(false);},s9_mouseClicked:function(event){var events=(this.s9_config.events||NONE);var stateValues,url;if(event.clickCount===2){stateValues=events.dblclick;}else{stateValues=events.click;url=events.clickURL;if($(event.target).parentsUntil(this).addBack().filter("a").length){url=null;}}site9.PageStateMgr.setStateValues(stateValues);site9.open(url);},s9_contextMenuRequested:function(event){var events=(this.s9_config.events||NONE);if(events.contextmenu){site9.PageStateMgr.setStateValues(events.contextmenu);event.preventDefault();}},s9_fieldChanged:$.noop,s9_stateChanged:$.noop,s9_setLinkedVisibilityStates:function(newLinkedVisibilityStates){var oldLinkedVisibilityStates=(this.s9_linkedVisibilityStates||EMPTY_ARRAY);newLinkedVisibilityStates=(newLinkedVisibilityStates||EMPTY_ARRAY);if(oldLinkedVisibilityStates.toString()===newLinkedVisibilityStates.toString()){return;}for(var i=0,n=oldLinkedVisibilityStates.length;i<n;i++){oldLinkedVisibilityStates[i].removeListener(handleLinkedVisibilityStateChange,this);}this.s9_linkedVisibilityStates=newLinkedVisibilityStates;for(var i=0,n=newLinkedVisibilityStates.length;i<n;i++){newLinkedVisibilityStates[i].addListener(handleLinkedVisibilityStateChange,this);}},s9_updateLinkedVisibilityStates:function(){this.s9_setLinkedVisibilityStates(site9.PageStateMgr.getReferencedStates(this.s9_config.visibilityStates||null));},s9_setLinkedState:function(newLinkedState){var oldLinkedState=(this.s9_linkedState||null);newLinkedState=(newLinkedState||null);if(oldLinkedState===newLinkedState){return;}if(oldLinkedState){oldLinkedState.removeListener(handleLinkedStateChange,this);}this.s9_linkedState=newLinkedState;if(newLinkedState){newLinkedState.addListener(handleLinkedStateChange,this);}if(this.s9_isAlive){this.s9_applyLinkedState(newLinkedState);var oldCurrentValue=(oldLinkedState?oldLinkedState.getValue():0);var newCurrentValue=(newLinkedState?newLinkedState.getValue():0);if(oldCurrentValue!==newCurrentValue){this.s9_stateChanged({state:newLinkedState||oldLinkedState,from:oldCurrentValue,to:newCurrentValue});}}},s9_updateLinkedState:function(){this.s9_setLinkedState(site9.PageStateMgr.getState(this.s9_config.linkedState||null));},s9_applyLinkedState:$.noop};$(document.documentElement).css("transform");function forceLayoutRecalc(el){var style=el.style;var transformProp=$.cssProps.transform;var oldTransform=style[transformProp];if(oldTransform==null||(oldTransform.substr(-16)==" translateX(0px)")){return;}var fixitTransform=(oldTransform+" translateX(0px)");style[transformProp]=fixitTransform;site9.readDOM(function(){site9.writeDOM(function(){if(style[transformProp]==fixitTransform){style[transformProp]=oldTransform;}});});}function MERGE(oldObj,newObj,dropMissing){var changed={},count=0;if(dropMissing){for(var key in oldObj){if(!(newObj.hasOwnProperty(key))){delete oldObj[key];changed[key]=null;count++;}}}for(var key in newObj){if(newObj.hasOwnProperty(key)){var oldValue=oldObj[key];var newValue=newObj[key];if($.isPlainObject(oldValue)||$.isPlainObject(newValue)){oldValue=(oldValue||{});newValue=(newValue||NONE);var _changed=MERGE(oldValue,newValue,dropMissing);if(_changed){oldObj[key]=oldValue;changed[key]=_changed;count++;}}else{if(JSON.stringify(oldValue)!==JSON.stringify(newValue)){if(newValue!=null){oldObj[key]=newValue;}else{delete oldObj[key];}changed[key]=newValue;count++;}}}}return(count?changed:null);}IMPL.MERGE=MERGE;function handleLinkedVisibilityStateChange(){if(this.s9_updateVisible){this.s9_updateVisible();}}function handleLinkedStateChange(event){if(this.s9_stateChanged){this.s9_stateChanged(event);}}site9.support._Impl=IMPL;(function(){function MakeMethod(k){var fn=function(){var args=$.makeArray(arguments);this.each(function(){var s9_fn=this[k];if($.isFunction(s9_fn)){s9_fn.apply(this,args);}});};return fn;}for(var k in IMPL){if((k.startsWith("s9_update")||k.startsWith("s9_set"))&&$.isFunction(IMPL[k])){$.fn[k]=MakeMethod(k);}}})();})(jQuery);(function($){var EVENTS={mouseenter:function(event){dispatch(event,this,this.s9_mouseEntered);},mouseleave:function(event){dispatch(event,this,this.s9_mouseExited);},mousedown:function(event){dispatch(event,this,this.s9_mousePressed);},mouseup:function(event){dispatch(event,this,this.s9_mouseReleased);},click:function(event){event.clickCount=1;dispatch(event,this,this.s9_mouseClicked);},dblclick:function(event){event.clickCount=2;dispatch(event,this,this.s9_mouseClicked);},contextmenu:function(event){dispatch(event,this,this.s9_contextMenuRequested);},change:function(event){dispatch(event,this,this.s9_fieldChanged);},touchstart:function(event){if(!(this.s9_settings.touchable)){return;}if(!(this.s9_isClick)){var info=this.s9__touchInfo;var touch=event.originalEvent.targetTouches[0];info.touchStartX=touch.clientX;info.touchStartY=touch.clientY;clearTimeout(info.touchAndHoldTimeout);info.touchAndHoldTimeout=setTimeout(touchWasHeld.bind(null,event,this),1000);dispatch(event,this,this.s9_mouseEntered);dispatch(event,this,this.s9_mousePressed);}event.preventDefault();},touchend:function(event){if(!(this.s9_settings.touchable)){return;}if(this.s9_isClick&&!(event.originalEvent.targetTouches.length)){lastTouchEnded(event,this);var info=this.s9__touchInfo;info.tapCount++;clearTimeout(info.multiTapTimeout);info.multiTapTimeout=setTimeout(resetTapCount.bind(null,event,this),500);event.clickCount=info.tapCount;dispatch(event,this,this.s9_mouseClicked);}event.preventDefault();},touchmove:function(event){if(!(this.s9_settings.touchable)){return;}if(this.s9_isClick){var info=this.s9__touchInfo;var touch=event.originalEvent.targetTouches[0];if((Math.abs(touch.clientX-info.touchStartX)>40)||(Math.abs(touch.clientY-info.touchStartY)>40)){lastTouchEnded(event,this);}}event.preventDefault();},touchcancel:function(event){if(!(this.s9_settings.touchable)){return;}if(this.s9_isClick&&!(event.originalEvent.targetTouches.length)){lastTouchEnded(event,this);}event.preventDefault();}};var lastTouchEnded=function(event,el){dispatch(event,el,el.s9_mouseReleased);dispatch(event,el,el.s9_mouseExited);var info=el.s9__touchInfo;clearTimeout(info.touchAndHoldTimeout);info.touchAndHoldTimeout=0;};var touchWasHeld=function(event,el){var events=el.s9_config.events;if(!(events&&events.contextmenu)){return;}lastTouchEnded(event,el);dispatch(event,el,el.s9_contextMenuRequested);};var resetTapCount=function(event,el){var info=el.s9__touchInfo;info.tapCount=0;clearTimeout(info.multiTapTimeout);info.multiTapTimeout=0;};var dispatch=function(event,el,handler){if(!(handler)){return;}if(!(site9.PageStateMgr.isActive())){return;}if(el.s9_settings.disabled){event.stopPropagation();event.preventDefault();return;}handler.call(el,event);site9.syncDOM();};site9.addAwakeListener(function(){$("#s9-body").on(site9.jqns("s9view",EVENTS),".s9--alive");});site9.addSleepListener(function(){$("#s9-body").off(site9.jqns("s9view"),".s9--alive");});})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_contentSEL:null,s9_init:function(){var j=$(this);if(!(j.hasClass("s9-scrolling"))){this.s9_needsServerRender=true;}supr.s9_init.call(this);},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);if(site9.hasAnyOwnProperties(settings,"allowsOverflow","showsScrollbars")){var allowsOverflow=this.s9_settings.allowsOverflow;var showsScrollbars=this.s9_settings.showsScrollbars;this.s9_setContentStyles({overflow:allowsOverflow?"visible":(showsScrollbars===true)?"scroll":(showsScrollbars===false)?"hidden":""});}}});var OID="Master";site9.support[OID]=IMPL;})(jQuery);(function($){var IMPL=site9.support._Impl;var supr=$.extend({},IMPL);$.extend(IMPL,{s9_applyVisible:function(visible){if(this.s9_isAlive&&site9.PageStateMgr.isActive()){var animations=(this.s9_config.animations||IMPL.NONE);var animation;if(visible){animation=(animations.show||animations.hide);}else{animation=(animations.hide||animations.show);}if(animation){animation=animation.split(/\s+/);var name=(animation[0]||null);var duration=parseTime(animation[1]);var easing=(animation[2]||null);if(name&&duration){this.s9_applyAnimation(name,duration,easing,(visible?"in":"out"));}}}supr.s9_applyVisible.call(this,visible);},s9_applyAnimation:function(name,duration,easing,direction){anim(this,name,duration,easing,direction);}});var USE_2D=($(document.documentElement).css("transform")!=null);var USE_3D=($(document.documentElement).css("backface-visibility")!=null);function anim(el,name,duration,easing,direction){var j=$(el);var keyFrames=KEY_FRAMES[name];if(j.parent().hasClass("s9-anim-inner")){unwrap(j,j.parent().parent().parent());}if(!(keyFrames)){return;}var wrap=$('<div class="s9-anim-wrap"><div class="s9-anim-outer"><div class="s9-anim-inner"/></div></div>');var outer=wrap.children();var inner=outer.children();wrap.css({left:j.css("left"),top:j.css("top"),width:j.outerWidth()+"px",height:j.outerHeight()+"px","z-index":j.css("z-index")});var opts={duration:duration,easing:easing,complete:function(){if(j.parent().is(inner)){unwrap(j,wrap);}}};var wrapAnim=createAnim(wrap,keyFrames.wrap,direction,opts);var outerAnim=createAnim(outer,keyFrames.outer,direction,opts);var innerAnim=createAnim(inner,keyFrames.inner,direction,opts);j.before(wrap).appendTo(inner);el.s9_isAnimating=true;innerAnim();outerAnim();wrapAnim();if(opts.complete){opts.complete();}}function parseTime(time,defVal){var t=parseFloat(time);if(t){if(time.match(/[a-z]*$/)[0]==="s"){t*=1000;}t=Math.round(t);}return(t||defVal||0);}function unwrap(j,wrap){var el=j[0];delete el.s9_isAnimating;j.replaceAll(wrap);}function createAnim(j,keyFrames,direction,opts){if(!(keyFrames&&keyFrames.length)){return $.noop;}var frame1=$.extend({},keyFrames[0]);var frame2=$.extend({},keyFrames[1]||frame1);if(direction==="out"){var swap=frame1;frame1=frame2;frame2=swap;}var customAnim=createCustomAnim(frame1,frame2);var variantCount=0;for(var name in frame2){if(frame1[name]===frame2[name]){delete frame2[name];}else{variantCount++;}}j.css(frame1);if(!(variantCount)){return $.noop;}var complete=opts.complete;delete opts.complete;opts=$.extend({step:customAnim,complete:complete},opts);return(function(){j.animate(frame2,opts);});}function createCustomAnim(frame1,frame2){var visibility1=frame1.visibility;var visibility2=frame2.visibility;delete frame1.visibility;delete frame2.visibility;var transform1=frame1.transform;var transform2=frame2.transform;if(transform1===transform2){return;}delete frame1.transform;delete frame2.transform;frame1.marginRight="0.0";frame2.marginRight="0.1";var r1=/-?[\d\.]+/g;var r2=/-?[\d\.]+/g;var a=0,m1,m2;var p=[],pn=0;var b=[],bn=0;while((m1=r1.exec(transform1))&&(m2=r2.exec(transform2))){b[bn++]=transform1.substring(a,m1.index);if(m1[0]===m2[0]){b[bn++]=m1[0];}else{p[pn++]=b.join("");p[pn++]=[parseFloat(m1[0]),parseFloat(m2[0])];bn=b.length=0;}a=(m1.index+m1[0].length);}b[bn++]=transform1.substring(a);p[pn++]=b.join("");var oldVisibility;return(function(t,fx){if(fx.prop!=="marginRight"){return;}t*=10;$.style(this,"transform",computeTransform(p,pn,t));var newVisibility=(t<0.5?visibility1:visibility2);if(newVisibility!==oldVisibility){$.style(this,"visibility",newVisibility);oldVisibility=newVisibility;}});}function computeTransform(p,pn,t){var b=[],bn=0;for(var i=0;i<pn;i++){if(i%2){var n1=p[i][0];var n2=p[i][1];b[bn++]=(n1+((n2-n1)*t));}else{b[bn++]=p[i];}}return b.join("");}var KEY_FRAMES={none:{}};$.extend(KEY_FRAMES,{fade:{outer:[{opacity:"0"},{opacity:"1"}]},"slide-l2r":{wrap:[{overflow:"hidden"}],outer:[{left:"-100%"},{left:"0%"}]},"slide-r2l":{wrap:[{overflow:"hidden"}],outer:[{left:"100%"},{left:"0%"}]},"slide-t2b":{wrap:[{overflow:"hidden"}],outer:[{top:"-100%"},{top:"0%"}]},"slide-b2t":{wrap:[{overflow:"hidden"}],outer:[{top:"100%"},{top:"0%"}]},"wipe-l2r":{outer:[{overflow:"hidden",width:"0%"},{overflow:"hidden",width:"100%"}]},"wipe-r2l":{wrap:[{overflow:"hidden"}],outer:[{overflow:"hidden",left:"100%"},{overflow:"hidden",left:"0%"}],inner:[{left:"-100%"},{left:"0%"}]},"wipe-t2b":{outer:[{overflow:"hidden",height:"0%"},{overflow:"hidden",height:"100%"}]},"wipe-b2t":{wrap:[{overflow:"hidden"}],outer:[{overflow:"hidden",top:"100%"},{overflow:"hidden",top:"0%"}],inner:[{top:"-100%"},{top:"0%"}]}});if(USE_2D){$.extend(KEY_FRAMES,{rise:{outer:[{transform:"scale(0.25,0.25)",opacity:"0"},{transform:"scale(1,1)",opacity:"1"}]},drop:{outer:[{transform:"scale(4,4)",opacity:"0"},{transform:"scale(1,1)",opacity:"1"}]}});}if(USE_3D){$.extend(KEY_FRAMES,{rise:{outer:[{transform:"perspective(500px) translateZ(-500px)",opacity:"0"},{transform:"perspective(500px) translateZ(0px)",opacity:"1"}]},drop:{outer:[{transform:"perspective(500px) translateZ(500px)",opacity:"0"},{transform:"perspective(500px) translateZ(0px)",opacity:"1"}]},"card-l2r":{outer:[{visibility:"hidden",transform:"perspective(500px) rotateY(-180deg)"},{visibility:"visible",transform:"perspective(500px) rotateY(0deg)"}]},"card-r2l":{outer:[{visibility:"hidden",transform:"perspective(500px) rotateY(180deg)"},{visibility:"visible",transform:"perspective(500px) rotateY(0deg)"}]},"card-t2b":{outer:[{visibility:"hidden",transform:"perspective(500px) rotateX(180deg)"},{visibility:"visible",transform:"perspective(500px) rotateX(0deg)"}]},"card-b2t":{outer:[{visibility:"hidden",transform:"perspective(500px) rotateX(-180deg)"},{visibility:"visible",transform:"perspective(500px) rotateX(0deg)"}]},"page-l2r":{outer:[{visibility:"hidden",transform:"perspective(500px) translateX(-50%) rotateY(-180deg) translateX(50%)"},{visibility:"visible",transform:"perspective(500px) translateX(-50%) rotateY(0deg) translateX(50%)"}]},"page-r2l":{outer:[{visibility:"hidden",transform:"perspective(500px) translateX(50%) rotateY(180deg) translateX(-50%)"},{visibility:"visible",transform:"perspective(500px) translateX(50%) rotateY(0deg) translateX(-50%)"}]},"page-t2b":{outer:[{visibility:"hidden",transform:"perspective(500px) translateY(-50%) rotateX(180deg) translateY(50%)"},{visibility:"visible",transform:"perspective(500px) translateY(-50%) rotateX(0deg) translateY(50%)"}]},"page-b2t":{outer:[{visibility:"hidden",transform:"perspective(500px) translateY(50%) rotateX(-180deg) translateY(-50%)"},{visibility:"visible",transform:"perspective(500px) translateY(50%) rotateX(0deg) translateY(-50%)"}]},"door-l2r":{outer:[{visibility:"hidden",transform:"perspective(500px) translateX(-50%) rotateY(180deg) translateX(50%)"},{visibility:"visible",transform:"perspective(500px) translateX(-50%) rotateY(0deg) translateX(50%)"}]},"door-r2l":{outer:[{visibility:"hidden",transform:"perspective(500px) translateX(50%) rotateY(-180deg) translateX(-50%)"},{visibility:"visible",transform:"perspective(500px) translateX(50%) rotateY(0deg) translateX(-50%)"}]},"door-t2b":{outer:[{visibility:"hidden",transform:"perspective(500px) translateY(-50%) rotateX(-180deg) translateY(50%)"},{visibility:"visible",transform:"perspective(500px) translateY(-50%) rotateX(0deg) translateY(50%)"}]},"door-b2t":{outer:[{visibility:"hidden",transform:"perspective(500px) translateY(50%) rotateX(180deg) translateY(-50%)"},{visibility:"visible",transform:"perspective(500px) translateY(50%) rotateX(0deg) translateY(-50%)"}]}});}(function(){if(USE_2D){for(var animName in KEY_FRAMES){var elKeyFrames=KEY_FRAMES[animName];for(var elName in elKeyFrames){var keyFrames=elKeyFrames[elName];for(var i=0,n=keyFrames.length;i<n;i++){var frame=keyFrames[i];if(frame.left){frame.transform="translateX("+frame.left+")";delete frame.left;}else{if(frame.top){frame.transform="translateY("+frame.top+")";delete frame.top;}}}}}}})();})(jQuery);(function($){var S=site9.support;var IMPL=S._Impl;var supr=$.extend({},IMPL);$.extend(IMPL,{s9_applyEssentialSettings:function(settings){supr.s9_applyEssentialSettings.call(this,settings);this.s9_applyAppearanceSettings(settings);},s9_applyAppearanceSettings:function(settings){var allSettings=this.s9_settings;var styles={},count=0;if(site9.hasAnyOwnProperties(settings,"textFillColor","textFillOpacity")){styles.color=S.formatColor(allSettings.textFillColor,allSettings.textFillOpacity);count++;}if(settings.hasOwnProperty("textSize")){styles["font-size"]=S.formatPx(settings.textSize);count++;}if(settings.hasOwnProperty("textFont")){styles["font-family"]=settings.textFont||"";count++;}if(settings.hasOwnProperty("textStyle")){styles["font-style"]=settings.textStyle||"";count++;}if(settings.hasOwnProperty("textWeight")){styles["font-weight"]=settings.textWeight||"";count++;}if(settings.hasOwnProperty("textDecoration")){styles["text-decoration"]=settings.textDecoration||"";count++;}if(settings.hasOwnProperty("textShadow")){styles["text-shadow"]=S.formatShadow(settings.textShadow,"000000",50);count++;}if(settings.hasOwnProperty("opacity")){styles.opacity=S.formatOpacity(settings.opacity);count++;}if(site9.hasAnyOwnProperties(settings,"strokeColor","strokeOpacity")){var val=S.formatColor(allSettings.strokeColor,allSettings.strokeOpacity);styles["border-color"]=val;count++;styles["background-clip"]=(val.startsWith("rgba")?"padding-box":"");count++;}if(settings.hasOwnProperty("strokeStyle")){styles["border-style"]=settings.strokeStyle||"";count++;}if(site9.hasAnyOwnProperties(settings,"strokeWidth","strokeStyle","strokeT","strokeR","strokeB","strokeL")){computeBorderWidth(styles,allSettings);count++;}if(site9.hasAnyOwnProperties(settings,"rounding","roundingTL","roundingTR","roundingBR","roundingBL","roundingExt")){computeBorderRadius(styles,allSettings,this.s9_ordering);count++;}if(site9.hasAnyOwnProperties(settings,"padding","paddingT","paddingR","paddingB","paddingL")){computePadding(styles,allSettings);count++;}if(site9.hasAnyOwnProperties(settings,"fillColor","fillOpacity")){styles["background-color"]=S.formatColor(allSettings.fillColor,allSettings.fillOpacity);count++;}if(settings.hasOwnProperty("bgSrc")){if(settings.bgSrc){styles["background-image"]="url('"+S.url(settings.bgSrc)+"')";count++;styles["background-position"]="50% 50%";count++;}else{styles["background-image"]="";count++;styles["background-position"]="";count++;}}if(settings.hasOwnProperty("bgSrc")||settings.hasOwnProperty("bgSizing")){var bgSizing=allSettings.bgSizing;if(!(allSettings.bgSrc)){styles["background-size"]="";count++;styles["background-repeat"]="";count++;}else{if(bgSizing==="fill"){styles["background-size"]="100% 100%";count++;styles["background-repeat"]="no-repeat";count++;}else{if(bgSizing==="tile"){styles["background-size"]="";count++;styles["background-repeat"]="repeat";count++;}else{if(bgSizing==="tile-x"){styles["background-size"]="";count++;styles["background-repeat"]="repeat-x";count++;}else{if(bgSizing==="tile-y"){styles["background-size"]="";count++;styles["background-repeat"]="repeat-y";count++;}else{styles["background-size"]="";count++;styles["background-repeat"]="no-repeat";count++;}}}}}}if(settings.hasOwnProperty("shadow")){var size=settings.shadow;if(size<0){styles["box-shadow"]="inset "+S.formatShadow(-size,"000000",50);count++;}else{styles["box-shadow"]=S.formatShadow(size,"000000",50);count++;}}if(site9.hasAnyOwnProperties(settings,"rotate","scale","translate")){styles.transform=S.formatTransform(allSettings.rotate,allSettings.scale,allSettings.translate);count++;}if(settings.hasOwnProperty("cursor")){styles.cursor=settings.cursor||"";count++;}if(settings.hasOwnProperty("horizAlign")){styles["text-align"]=settings.horizAlign||"";count++;}if(settings.hasOwnProperty("vertAlign")){this.s9_applyVertAlign(settings.vertAlign);}if(settings.hasOwnProperty("lineHeight")){styles["line-height"]=S.formatLineHeight(settings.lineHeight);count++;}if(count){this.s9_setContentStyles(styles);}},s9_computeAppearanceSettingsFromContentStyles:function(styles){var settings={};if(styles["font-size"]){settings.textSize=S.parsePx(styles["font-size"]);}return settings;},s9_applyOrdering:function(ordering){supr.s9_applyOrdering.call(this,ordering);if(this.s9_settings.hasOwnProperty("roundingExt")){this.s9_applyAppearanceSettings(this.s9_settings);}},s9_applyVertAlign:function(vertAlign){site9.afterDOM(updateComputedTopMargin,this);},s9_applyContentStyles:function(contentStyles){supr.s9_applyContentStyles.call(this,contentStyles);if(this.s9_isAlive){this.s9_reApplyVertAlign();}},s9_applySizing:function(sizing){supr.s9_applySizing.call(this,sizing);if(sizing.hasOwnProperty("width")||sizing.hasOwnProperty("height")){this.s9_reApplyVertAlign();}},s9_reApplyVertAlign:function(){var vertAlign=this.s9_settings.vertAlign;if(vertAlign){this.s9_applyVertAlign(vertAlign);}}});var UNALIGNED_STYLES={position:"",display:"block"};var ALIGNED_STYLES={position:"relative",top:"0px"};function updateComputedTopMargin(){var contentEl=$(this).find(this.s9_contentSEL);var contents=contentEl.children().first();var vertAlign=this.s9_settings.vertAlign;if(!(contents.length)){return;}contents.css(UNALIGNED_STYLES);if(!(vertAlign)||!(this.s9_sizing)||this.s9_sizing.height==null){return;}site9.readDOM(calculateTopMargin,this);var adj;function calculateTopMargin(){var contentsHeight=contents.outerHeight();if(contentsHeight===0){return;}var overflow=contentEl.css("overflow-y");if(overflow==="auto"||overflow==="scroll"){if(contentEl.prop("scrollHeight")>contentEl.prop("clientHeight")){return;}}var pct=(vertAlign==="top"?0:vertAlign==="middle"?0.5:1);var dh=(contentEl.height()-contentsHeight);var dy=((contentEl.is("button")||contentEl.is("td"))?-dh/2:0);adj=Math.round(dh*pct+dy);if(!(adj)){return;}site9.writeDOM(applyTopMargin,this);}function applyTopMargin(){ALIGNED_STYLES.top=S.formatPx(adj);contents.css(ALIGNED_STYLES);}}var NO_COLOR="none";function computeBorderWidth(css,settings){var borderWidth=settings.strokeWidth;if(borderWidth!=null){switch(settings.strokeStyle){case"none":borderWidth=0;break;case"double":borderWidth*=3;break;case"groove":case"ridge":borderWidth*=2;break;}}borderWidth=S.formatPx(borderWidth);css["-s9-border-width"]=borderWidth;var t=(settings.strokeT!==false);var r=(settings.strokeR!==false);var b=(settings.strokeB!==false);var l=(settings.strokeL!==false);css["border-top-width"]=(t?borderWidth:"0");css["border-right-width"]=(r?borderWidth:"0");css["border-bottom-width"]=(b?borderWidth:"0");css["border-left-width"]=(l?borderWidth:"0");}function computeBorderRadius(css,settings,ordering){var borderRadius=settings.rounding;if(borderRadius===-1){borderRadius="100%";}else{borderRadius=S.formatPx(borderRadius);}css["-s9-border-radius"]=borderRadius;var tl=(settings.roundingTL!==false);var tr=(settings.roundingTR!==false);var br=(settings.roundingBR!==false);var bl=(settings.roundingBL!==false);var roundingExt=(settings.roundingExt||false);if(roundingExt){if(ordering.row){tl=tr=false;}if(ordering.invRow){bl=br=false;}if(ordering.col){tl=bl=false;}if(ordering.invCol){tr=br=false;}}css["border-top-left-radius"]=(tl?borderRadius:"0");css["border-top-right-radius"]=(tr?borderRadius:"0");css["border-bottom-right-radius"]=(br?borderRadius:"0");css["border-bottom-left-radius"]=(bl?borderRadius:"0");}function computePadding(css,settings){var padding=settings.padding;padding=S.formatPx(padding);css["-s9-padding"]=padding;var t=(settings.paddingT!==false);var r=(settings.paddingR!==false);var b=(settings.paddingB!==false);var l=(settings.paddingL!==false);css["padding-top"]=(t?padding:"0");css["padding-right"]=(r?padding:"0");css["padding-bottom"]=(b?padding:"0");css["padding-left"]=(l?padding:"0");}$.extend(S,{parsePx:function(size){var m=(size||"").match(/^(-?\d+(\.\d+)?)px$/);return(m&&parseFloat(m[1])||0);},formatPx:function(val,defVal){val=((val||val===0)?val:null);return((val!=null)?(val+"px"):(defVal||""));},formatColor:function(rgb,a,defVal){if(rgb===NO_COLOR){return"transparent";}a=S.formatOpacity(a);if(!(rgb)||!(a)){return(rgb?("#"+rgb):(defVal||""));}return("rgba("+[parseInt(rgb.substring(0,2),16),parseInt(rgb.substring(2,4),16),parseInt(rgb.substring(4,6),16),a].join(",")+")");},formatOpacity:function(val,defVal){val=((val||val===0)?val:null);return((val!=null&&val>=0&&val<100)?(""+(val/100)):(defVal||""));},formatShadow:function(size,rgb,a){if(size){var offsetX=0;var offsetY=Math.round(size/3);var radius=Math.abs(size);return(S.formatColor(rgb,a)+" "+S.formatPx(offsetX)+" "+S.formatPx(offsetY)+" "+S.formatPx(radius));}else{if(size===0){return"none";}else{return"";}}},formatTransform:function(rotate,scale,translate,defVal){if(rotate==null&&scale==null&&translate==null){return(defVal||"");}return([makeTransformFn("rotate",rotate,"deg"),makeTransformFn("scale",scale,""),makeTransformFn("translate",translate,"px"),].join(" "));},formatLineHeight:function(val,defVal){if(val===-1){val=(site9.quirks.shortLines?1.45:1.36);}return((val!=null)?(""+val):(defVal||""));},formatBodyStyles:function(settings){var styles={},count=0;if(settings.hasOwnProperty("color")){styles["background-color"]=this.formatColor(settings.color,settings.fillOpacity);count++;}if(settings.hasOwnProperty("bgSrc")){if(settings.bgSrc){styles["background-image"]="url('"+this.url(settings.bgSrc)+"')";count++;styles["background-position"]="50% 50%";count++;}else{styles["background-image"]="";count++;styles["background-position"]="";count++;}}if(settings.hasOwnProperty("bgSrc")||settings.hasOwnProperty("bgSizing")){var bgSizing=settings.bgSizing;if(!(settings.bgSrc)){styles["background-size"]="";count++;styles["background-repeat"]="";count++;}else{if(bgSizing==="fill"){styles["background-size"]="100% 100%";count++;styles["background-repeat"]="no-repeat";count++;}else{if(bgSizing==="tile"){styles["background-size"]="";count++;styles["background-repeat"]="repeat";count++;}else{if(bgSizing==="tile-x"){styles["background-size"]="";count++;styles["background-repeat"]="repeat-x";count++;}else{if(bgSizing==="tile-y"){styles["background-size"]="";count++;styles["background-repeat"]="repeat-y";count++;}else{styles["background-size"]="";count++;styles["background-repeat"]="no-repeat";count++;}}}}}}return styles;},applyBodyStyles:function(settings){if(!settings){settings={};}$("body").css(this.formatBodyStyles(settings));var bod=$("#s9-body");if(settings.width){bod.css("min-width",settings.width+"px");}else{bod.css("min-width","");}if(settings.height){bod.css("min-height",settings.height+"px");}else{bod.css("min-height","");}},});function makeTransformFn(fnName,args,unit){if(args==null){return"";}if(!($.isArray(args))){args=[args];}if(args.length===0){return"";}var b=[],bn=0;b[bn++]=fnName;if(args.length===1){b[bn++]="(";b[bn++]=args[0]||0;b[bn++]=unit;b[bn++]=")";}else{if(args.length===2){b[bn++]="(";b[bn++]=args[0]||0;b[bn++]=unit;b[bn++]=",";b[bn++]=args[1]||0;b[bn++]=unit;b[bn++]=")";}else{b[bn++]="3d(";b[bn++]=args[0]||0;b[bn++]=unit;b[bn++]=",";b[bn++]=args[1]||0;b[bn++]=unit;b[bn++]=",";b[bn++]=args[2]||0;b[bn++]=unit;b[bn++]=")";}}return b.join("");}})(jQuery);(function($){var PLACEHOLDER_SERVICE_URL=$("#s9-placeholder-service-url").prop("href");$.extend(site9.support,{makeEmptyImage:function(w,h,lineWidth,lineStyle,lineColor){var w=Math.max(1,w);var h=Math.max(1,h);var sw=site9.support.parsePx(lineWidth);var sc=(lineColor||"#000000");var sd;if(site9.quirks.noSVGImg){if(sc.startsWith("#")){sc=sc.substring(1);}else{sc="000000";}var theUrl="";if(PLACEHOLDER_SERVICE_URL&&(PLACEHOLDER_SERVICE_URL.indexOf("//")==0)){theUrl+=((window.location.protocol==="https:")?"https":"http:");}theUrl+=PLACEHOLDER_SERVICE_URL;theUrl+="?thickness="+Math.round(sw)+"&width="+w+"&height="+h+"&color="+sc;return theUrl;}var b=[];drawStart(b,w,h);if(sw){drawLine(b,0,0,w,h,sw,sc,sd);drawLine(b,w,0,0,h,sw,sc,sd);}drawEnd(b);return"data:image/svg+xml,"+encodeURIComponent(b.join(""));}});var drawStart,drawLine,drawEnd;drawStart=function(b,w,h){var bn=b.length;b[bn++]='<svg xmlns="http://www.w3.org/2000/svg" width="';b[bn++]=w;b[bn++]='" height="';b[bn++]=h;b[bn++]='">';};drawLine=function(b,x1,y1,x2,y2,sw,sc,sd){var bn=b.length;b[bn++]='<line x1="';b[bn++]=x1;b[bn++]='" y1="';b[bn++]=y1;b[bn++]='" x2="';b[bn++]=x2;b[bn++]='" y2="';b[bn++]=y2;b[bn++]='" stroke="';b[bn++]=sc;b[bn++]='" stroke-width="';b[bn++]=sw;b[bn++]='"';if(sd){b[bn++]=' stroke-dasharray="';b[bn++]=sd;b[bn++]='"';}b[bn++]="/>";};drawEnd=function(b){var bn=b.length;b[bn++]="</svg>";};})(jQuery);(function(window,$,undefined){var frameEl;var DOM;var site9_events;var canvasSizingRule;var SITE9_DOM_SCOPE={};var docEl;var docEl_;var updateDocEl_;var canvasOverlayEl;var canvasBody;var updateCanvasSizing;var _updateCanvasSizing;var _afterUpdateCanvasSizing;var autoGrowCanvas;var publishClientResizeEvent;var scroll;var publishScrollEvent;var _publishScrollEvent;var publishNavigateEvent;var reRouteLinkClick;var orig_site9_navigateTo;site9.addAwakeListener(function Workspace_awake1(){frameEl=window.frameElement;});site9.addAwakeListener(function Workspace_awake2(){if(!(frameEl)){return;}if(frameEl.onready){try{frameEl.onready({target:frameEl});}catch(e){console.log(e,e.stack);}}});site9.addAwakeListener(function Workspace_awake3(){if(!(frameEl&&frameEl.s9_workspace)){return;}DOM=window.parent.launch.ws.util.DOM;site9_events=window.parent.site9.events;docEl=document.documentElement;docEl_={};updateDocEl_=function(){var domScroll=DOM.getScroll(docEl);docEl_.scrollLeft=domScroll[0];docEl_.scrollTop=domScroll[1];docEl_.scrollWidth=docEl.scrollWidth;docEl_.scrollHeight=docEl.scrollHeight;var oldClientWidth=docEl_.clientWidth;var oldClientHeight=docEl_.clientHeight;var newClientWidth=docEl.clientWidth;var newClientHeight=docEl.clientHeight;if(newClientWidth!==oldClientWidth||newClientHeight!==oldClientHeight){docEl_.clientWidth=newClientWidth;docEl_.clientHeight=newClientHeight;publishClientResizeEvent(oldClientWidth,oldClientHeight,newClientWidth,newClientHeight);}docEl_.visibleWidth=(docEl_.scrollLeft+docEl_.clientWidth);docEl_.visibleHeight=(docEl_.scrollTop+docEl_.clientHeight);};canvasOverlayEl=$("#s9-overlay")[0];canvasBody=$("#s9-body");updateCanvasSizing=function(){site9.afterDOM(_updateCanvasSizing,SITE9_DOM_SCOPE);};_updateCanvasSizing=function(){site9.readDOM(function(){updateDocEl_();site9.writeDOM(function(){if(canvasBody){canvasBody.width(docEl_.visibleWidth);canvasBody.height(docEl_.visibleHeight);}if(canvasOverlayEl){canvasOverlayEl.width=docEl_.visibleWidth;canvasOverlayEl.height=docEl_.visibleHeight;if(canvasOverlayEl.s9draw){canvasOverlayEl.s9draw();}}site9.readDOM(updateDocEl_,SITE9_DOM_SCOPE);},SITE9_DOM_SCOPE);},SITE9_DOM_SCOPE);};autoGrowCanvas=function(event){site9.readDOM(function(){updateDocEl_();site9.writeDOM(function(){if(event.dx&&(docEl_.visibleWidth>=docEl_.scrollWidth)){if(canvasBody){canvasBody.width(docEl_.visibleWidth+event.dx);}}if(event.dy&&(docEl_.visibleHeight>=docEl_.scrollHeight)){if(canvasBody){canvasBody.height(docEl_.visibleHeight+event.dy);}}},SITE9_DOM_SCOPE);},SITE9_DOM_SCOPE);site9.syncDOM();};$(window).on("scroll resize",updateCanvasSizing);site9_events.attach(docEl,"DOMAutoScroll",autoGrowCanvas);publishClientResizeEvent=function(ow,oh,nw,nh){if(!(frameEl.onclientresize)){return;}frameEl.onclientresize({target:frameEl,clientWidth:nw,clientHeight:nh});};scroll={left:0,top:0};publishScrollEvent=function(){if(!(frameEl.onscroll)){return;}site9.afterDOM(_publishScrollEvent,SITE9_DOM_SCOPE);site9.syncDOM();};_publishScrollEvent=function(){site9.readDOM(function(){updateDocEl_();site9.writeDOM(function(){var oldScroll=scroll;scroll={left:docEl_.scrollLeft,top:docEl_.scrollTop};if(scroll.left!=oldScroll.left||scroll.top!=oldScroll.top){frameEl.onscroll({target:frameEl,scrollLeft:scroll.left,scrollTop:scroll.top});}},SITE9_DOM_SCOPE);},SITE9_DOM_SCOPE);};$(window).on("scroll",publishScrollEvent);publishNavigateEvent=function(url){if(frameEl.onnavigate){frameEl.onnavigate({target:frameEl,type:"navigate",url:url});return true;}};site9.allowDefaultNavigationForLinks=false;orig_site9_navigateTo=site9.navigateTo;site9.navigateTo=publishNavigateEvent;site9.wsUpdateCanvasSizing=updateCanvasSizing;updateCanvasSizing();});site9.addSleepListener(function Workspace_sleep3(){if(!(frameEl&&frameEl.s9_workspace)){return;}site9.wsUpdateCanvasSizing=null;site9.navigateTo=orig_site9_navigateTo;orig_site9_navigateTo=null;site9.allowDefaultNavigationForLinks=true;publishNavigateEvent=null;$(window).off("scroll",publishScrollEvent);_publishScrollEvent=null;publishScrollEvent=null;scroll=null;publishClientResizeEvent=null;$(docEl).off("DOMMouseScroll mousewheel",autoGrowCanvas);site9_events.detach(docEl,"DOMAutoScroll",autoGrowCanvas);$(window).off("scroll resize",updateCanvasSizing);_afterUpdateCanvasSizing=null;_updateCanvasSizing=null;updateCanvasSizing=null;autoGrowCanvas=null;canvasOverlayEl=null;canvasBody=null;updateDocEl_=null;docEl_=null;docEl=null;canvasSizingRule=null;site9_events=null;DOM=null;});site9.addSleepListener(function Workspace_sleep2(){if(!(frameEl)){return;}if(frameEl.onunready){frameEl.onunready({target:frameEl});}});site9.addSleepListener(function Workspace_sleep1(){frameEl=null;site9.forgetDOMScope(SITE9_DOM_SCOPE);});})(window,jQuery);(function($){var UTIL={getValueNames:function(el){return(el.s9_linkedState?(el.s9_config.stateValueNames||[]):null);},getValueNameCount:function(el,valueNames){return(valueNames?valueNames.length:1);},getLabelText:function(el,valueNames,valueNameCount,currentValue,nextValue,targetValue){var settings=el.s9_settings;var labelStyle=(settings.labelStyle||null);if("custom"===labelStyle){return settings.text;}else{if("current"===labelStyle){return UTIL.getValueName(el,valueNames,valueNameCount,currentValue);}else{if("next"===labelStyle){return UTIL.getValueName(el,valueNames,valueNameCount,nextValue);}else{if("target"===labelStyle){return UTIL.getValueName(el,valueNames,valueNameCount,targetValue);}else{if("parent"===labelStyle){return(el.s9_config.stateName||"?");}else{return null;}}}}}},getValueName:function(el,valueNames,valueNameCount,value){if(!(valueNames)){return"?";}if(value<0){return null;}if(value>=valueNameCount){return"Unknown Value ("+(value+1)+")";}return valueNames[value]||"Untitled Value ("+(value+1)+")";},getValueURL:function(el,valueNames,valueNameCount,value){if(!(valueNames)){return null;}if(value<0){return null;}return"#ps="+el.s9_linkedState.getOid()+":"+value;}};site9.support._WireframingStateNavUtil=UTIL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_contentSEL:"> .s9-content-grp",s9_contentCompSEL:"> .s9-content-grp",initContent:function(el){$('<div class="s9-content-grp"/>').appendTo(el);},s9_initComp:function(el,isList){supr.s9_initComp.call(this,el,isList);if(isList){el.s9_config=$.extend(true,{},this.s9_config);el.s9_itemSizing=$.extend({},this.s9_itemSizing);el.s9_type=this.s9_type+"_list";el.s9_listType="root";el.s9_listDepth=0;}},s9_destroyComp:function(el,isList){if(isList){el.s9_type=null;el.s9_listType=null;el.s9_listDepth=null;}supr.s9_destroyComp.call(this,el,isList);},s9_initComps:function(comps){var oldListCount=this.s9_listCount;supr.s9_initComps.call(this,comps);if(this.s9_listCount!==oldListCount){this.s9_updateItemSizing();}},s9_destroyComps:function(comps){var oldListCount=this.s9_listCount;supr.s9_destroyComps.call(this,comps);if(this.s9_listCount!==oldListCount){this.s9_updateItemSizing();}},s9_setConfig:function(newConfig,dropMissing){var config=supr.s9_setConfig.call(this,newConfig,dropMissing);if(this.s9_listCount){var lists=$(this).find(this.s9_contentCompSEL).not(this.s9_contentItemSEL);lists.each(function(){if(this.s9_setConfig){this.s9_setConfig(newConfig,dropMissing);}});}return config;},s9_applySizing:function(sizing){supr.s9_applySizing.call(this,sizing);if(sizing.hasOwnProperty("width")||sizing.hasOwnProperty("height")){this.s9_updateItemSizing();}},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);if(settings.hasOwnProperty("itemMaxCols")||settings.hasOwnProperty("itemHorizGap")||settings.hasOwnProperty("itemVertGap")){this.s9_updateItemSizing();}},s9_setItemSizing:function(newItemSizing,dropMissing){var itemSizing=supr.s9_setItemSizing.call(this,newItemSizing,dropMissing);if(this.s9_listCount){var lists=$(this).find(this.s9_contentCompSEL).not(this.s9_contentItemSEL);lists.each(function(){if(this.s9_setItemSizing){this.s9_setItemSizing(newItemSizing,dropMissing);}});}return itemSizing;},s9_updateItemSizing:function(){site9.afterDOM(this.s9__updateItemSizing,this);},s9__updateItemSizing:function(){var settings=this.s9_settings;var sizing=this.s9_sizing;var itemCount=(this.s9_getSizingItemCount()||1);var maxCols=(settings.itemMaxCols||itemCount);var horizMargin=(settings.itemHorizGap||0);var vertMargin=(settings.itemVertGap||0);var cols=Math.min(maxCols,itemCount);var rows=(itemCount?Math.ceil(itemCount/cols):1);var itemSizing={};if(horizMargin){itemSizing.horizMargin=horizMargin;}if(vertMargin){itemSizing.vertMargin=vertMargin;}if(maxCols){itemSizing.maxCols=maxCols;}if(sizing.width!=null){itemSizing.width=Math.max(0,(sizing.width-((cols-1)*horizMargin))/cols);}if(sizing.height!=null){itemSizing.height=Math.max(0,(sizing.height-((rows-1)*vertMargin))/rows);}this.s9_setItemSizing(itemSizing,true);},s9_getSizingItemCount:function(){var count=this.s9_itemCount;if(this.s9_listCount){var lists=$(this).find(this.s9_contentCompSEL).not(this.s9_contentItemSEL);lists.each(function(){count+=this.s9_getSizingItemCount();});}return count;},s9_applyAppearanceSettings:$.noop,s9_reApplyVertAlign:$.noop});site9.support._WireframingNavImpl=IMPL;})(jQuery);(function($){var supr=site9.support._WireframingNavImpl;var UTIL=site9.support._WireframingStateNavUtil;var IMPL=site9.create(supr,{s9_updateLinkedState:$.noop});site9.support._WireframingStateNavImpl=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_contentSEL:null,s9_contentCompSEL:"> .s9-content-grp, > .s9-content-itm",s9_initComp:function(el,isList){supr.s9_initComp.call(this,el,isList);el.s9_config=$.extend(true,{},this.s9_config);if(isList){el.s9_itemSizing=$.extend({},this.s9_itemSizing);el.s9_type=this.s9_type;el.s9_listType=this.s9_listType;el.s9_listDepth=(this.s9_listDepth+1);}else{el.s9_updateSizing=$.noop;el.s9_type=this.s9_type.replace("list","item");}},s9_destroyComp:function(el,isList){if(isList){el.s9_type=null;el.s9_listType=null;el.s9_listDepth=null;}else{el.s9_type=null;}supr.s9_destroyComp.call(this,el,isList);},s9_updateVisible:$.noop,s9_initComps:function(comps){var oldItemCount=this.s9_itemCount;var oldListCount=this.s9_listCount;supr.s9_initComps.call(this,comps);if(((this.s9_itemCount!==oldItemCount)||(this.s9_listCount!==oldListCount))){this.s9_updateItemSizing();}},s9_destroyComps:function(comps){var oldItemCount=this.s9_itemCount;var oldListCount=this.s9_listCount;supr.s9_destroyComps.call(this,comps);if((this.s9_itemCount!==oldItemCount)||(this.s9_listCount!==oldListCount)){this.s9_updateItemSizing();}},s9_setConfig:function(newConfig,dropMissing){var config=supr.s9_setConfig.call(this,newConfig,dropMissing);if(this.s9_itemCount||this.s9_listCount){var comps=$(this).find(this.s9_contentCompSEL);comps.each(function(){if(this.s9_setConfig){this.s9_setConfig(newConfig,dropMissing);}});}return config;},s9_setItemSizing:function(newItemSizing,dropMissing){var itemSizing=supr.s9_setItemSizing.call(this,newItemSizing,dropMissing);if(this.s9_listCount){if(newItemSizing.maxCols!==1){newItemSizing=$.extend({},newItemSizing);newItemSizing.maxCols=1;}var lists=$(this).find(this.s9_contentCompSEL).not(this.s9_contentItemSEL);lists.each(function(){if(this.s9_setItemSizing){this.s9_setItemSizing(newItemSizing,dropMissing);}});}return itemSizing;},s9_applyItemSizing:function(itemSizing){var itemCount=this.s9_itemCount;if(!(itemCount)){return;}var items=$(this).find(this.s9_contentCompSEL).filter(this.s9_contentItemSEL);itemSizing=this.s9_itemSizing;var cols=(itemSizing.maxCols||itemCount);var rows=Math.ceil(itemCount/cols);var horizMargin=(itemSizing.horizMargin||0);var vertMargin=(itemSizing.vertMargin||0);var width=(itemSizing.width||0);var height=(itemSizing.height||0);var widthFixed=(itemSizing.width!=null);var heightFixed=(itemSizing.height!=null);var col=-1,row=-1,w,wErr=0,h,hErr=0;var isStatic=(this.s9_listType==="static");var PX=site9.support.formatPx;items.each(function(index){if(!(this.s9_setSizing)){return;}if((index%cols)===0){row++;h=Math.round(height+hErr);hErr+=(height-h);col=-1;wErr=0;}col++;w=Math.round(width+wErr);wErr+=(width-w);this.s9_setSizing({width:(widthFixed?w:null),height:(heightFixed?h:null)});this.s9_setOrdering({row:row,col:col,invRow:((rows-1)-row),invCol:((cols-1)-col)});var notFirstCol=col,notFirstRow=(row||isStatic);this.s9_setStyles({"margin-left":PX(notFirstCol&&horizMargin||""),"margin-top":PX(notFirstRow&&vertMargin||""),width:PX(widthFixed?w:""),height:PX(heightFixed?h:"")});});},s9_updateItemSizing:function(){if(this.s9_listType==="static"||this.s9_listType==="root"){var parent=$(this).parent()[0];if(parent.s9_updateItemSizing){parent.s9_updateItemSizing();}}},s9_getSizingItemCount:function(){var count=this.s9_itemCount;if(this.s9_listCount){var lists=$(this).find(this.s9_contentCompSEL).not(this.s9_contentItemSEL);lists.each(function(){var isStatic=(this.s9_listType==="static");if(isStatic){count+=this.s9_getSizingItemCount();}});}return count;},s9_applyAppearanceSettings:$.noop,s9_reApplyVertAlign:$.noop});site9.support._WireframingNavListImpl=IMPL;})(jQuery);(function($){var supr=site9.support._WireframingNavListImpl;var UTIL=site9.support._WireframingStateNavUtil;var IMPL=site9.create(supr,{s9_initComp:function(el,isList){supr.s9_initComp.call(this,el,isList);if(!(isList)){el.s9_representedValue=this.s9_itemCount;}},s9_destroyComp:function(el,isList){el.s9_representedValue=null;supr.s9_destroyComp.call(this,el,isList);},s9_applyConfig:function(config){supr.s9_applyConfig.call(this,config);if(config.hasOwnProperty("stateValueNames")){var valueNames=UTIL.getValueNames(this);var valueNameCount=UTIL.getValueNameCount(this,valueNames);var items=$(this).find(this.s9_contentCompSEL).filter(this.s9_contentItemSEL);var itemCount=items.length;if(itemCount!==valueNameCount){var me=this;var oldItems,newItems;while(itemCount>valueNameCount){var item=items.eq(itemCount-1);oldItems=(oldItems?oldItems.add(item):item);itemCount--;}while(itemCount<valueNameCount){var item=$('<div class="s9-content-itm"/>');newItems=(newItems?newItems.add(item):item);itemCount++;}items.last().removeClass("s9--last");if(oldItems){this.s9_destroyComps(oldItems);oldItems.next("br").addBack().remove();items=items.not(oldItems);}if(newItems){newItems.appendTo(this);items=items.add(newItems);this.s9_initComps(newItems);newItems.each(function(){this.s9_applyConfig(this.s9_config);this.s9_applyLinkedState(this.s9_linkedState);this.s9_applyOrdering(this.s9_ordering);});}items.first().addClass("s9--first");items.last().addClass("s9--last");}}}});site9.support._WireframingStateNavListImpl=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_preservesWhiteSpace:true,initContent:function(el){$('<a class="s9-content"><span/></a>').appendTo(el);},s9_updateVisible:$.noop});site9.support._WireframingNavItemImpl=IMPL;})(jQuery);(function($){var supr=site9.support._WireframingNavItemImpl;var UTIL=site9.support._WireframingStateNavUtil;var IMPL=site9.create(supr,{s9_init:function(){this.s9_isTarget=(this.s9_representedValue===0);supr.s9_init.call(this);},s9_applyConfig:function(config){supr.s9_applyConfig.call(this,config);if(config.hasOwnProperty("stateValueNames")){this.s9_updateTextContent();}},s9_updateTextContent:function(){var valueNames=UTIL.getValueNames(this);var valueNameCount=UTIL.getValueNameCount(this,valueNames);var textEl=$(this).find(this.s9_contentSEL).children("span");var text=UTIL.getValueName(this,valueNames,valueNameCount,this.s9_representedValue);textEl.text(text||"");this.s9_reApplyVertAlign();},s9_applyLinkedState:function(linkedState){supr.s9_applyLinkedState.call(this,linkedState);var valueNames=UTIL.getValueNames(this);var valueNameCount=UTIL.getValueNameCount(this,valueNames);var contentEl=$(this).find(this.s9_contentSEL);var url=UTIL.getValueURL(this,valueNames,valueNameCount,this.s9_representedValue);if(url){contentEl.attr("href",url);}else{contentEl.removeAttr("href");}},s9_updateTarget:function(){var linkedState=this.s9_linkedState;var currentValue=(linkedState?linkedState.getValue():0);var targetValue=(this.s9_representedValue||0);this.s9_setTarget(targetValue===currentValue);},s9_stateChanged:function(event){supr.s9_stateChanged.call(this,event);this.s9_updateTarget();}});site9.support._WireframingStateNavItemImpl=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{initContent:function(el){$('<select class="s9-content"/>').appendTo(el);},s9_applySizing:function(sizing){supr.s9_applySizing.call(this,sizing);if(sizing.hasOwnProperty("height")){this.s9_setContentStyles({"background-origin":(sizing.height?"border-box":"")});}},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);var contentEl=$(this).find(this.s9_contentSEL);if(settings.hasOwnProperty("size")){var size=settings.size;if(size){contentEl.attr("size",size);}else{contentEl.removeAttr("size");}}if(settings.hasOwnProperty("multiple")){var multiple=settings.multiple;if(multiple){contentEl.attr("multiple","");}else{contentEl.removeAttr("multiple");}}if(settings.hasOwnProperty("disabled")){var disabled=settings.disabled;contentEl.prop("disabled",disabled||false);}},s9_applyContentStyles:function(contentStyles){supr.s9_applyContentStyles.call(this,contentStyles);if(contentStyles.hasOwnProperty("background-color")||contentStyles.hasOwnProperty("color")){var opts=$(this).find(this.s9_contentSEL).find("option");var optStyles={};if(contentStyles.hasOwnProperty("background-color")){optStyles["background-color"]=contentStyles["background-color"];}if(contentStyles.hasOwnProperty("color")){optStyles.color=contentStyles.color;}opts.css(optStyles);}}});site9.support._WireframingSelectionImpl=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_preservesWhiteSpace:true,initContent:function(el){$('<button type="button" class="s9-content"><span/></button>').appendTo(el);},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);if(settings.hasOwnProperty("text")){this.s9_updateTextContent();}if(settings.hasOwnProperty("disabled")){var contentEl=$(this).find(this.s9_contentSEL);var disabled=(settings.disabled||false);contentEl.prop("disabled",disabled);}},s9_createTextContent:function(){return this.s9_settings.text;},s9_updateTextContent:function(){var textEl=$(this).find(this.s9_contentSEL).find("span");var text=this.s9_createTextContent();textEl.text(text||"");this.s9_reApplyVertAlign();}});site9.support._WireframingButtonImpl=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_preservesWhiteSpace:true,initContent:function(el){var b=['<label class="s9-content"><span>','<input type="',(el.s9_isRadio?"radio":"checkbox"),'" class="s9-check-input">',"<span/>","</span></label>"];$(b.join("")).appendTo(el);},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);if(settings.hasOwnProperty("text")){this.s9_updateTextContent();}if(settings.hasOwnProperty("disabled")){var inputEl=$(this).find("input");var disabled=settings.disabled;inputEl.prop("disabled",disabled||false);}if(settings.hasOwnProperty("checked")){this.s9_updateFieldChecked();}},s9_updateTextContent:function(){var textEl=$(this).find(this.s9_contentSEL).children("span").children("span");var text=this.s9_settings.text;textEl.text(text||"");this.s9_reApplyVertAlign();},s9_updateFieldChecked:function(){var inputEl=$(this).find("input");var checked=this.s9_settings.checked;inputEl.prop("defaultChecked",checked||false).prop("checked",checked||false);}});site9.support._WireframingCheckboxImpl=IMPL;})(jQuery);(function($){var supr=site9.support._WireframingCheckboxImpl;var UTIL=site9.support._WireframingStateNavUtil;var IMPL=site9.create(supr,{s9_updateTextContent:function(){var valueNames=UTIL.getValueNames(this);var valueNameCount=UTIL.getValueNameCount(this,valueNames);var inputEl=$(this).find("input");var linkedState=this.s9_linkedState;var currentValue=(linkedState?linkedState.getValue():0);var targetValue=(this.s9_settings.targetValue||this.s9_representedValue||0);var nextValue=((currentValue!==targetValue)?targetValue:currentValue?0:1);var textEl=inputEl.next("span");var text=UTIL.getLabelText(this,valueNames,valueNameCount,currentValue,nextValue,targetValue);textEl.text(text||"");this.s9_reApplyVertAlign();},s9_updateTarget:function(){var valueNames=UTIL.getValueNames(this);var valueNameCount=UTIL.getValueNameCount(this,valueNames);var inputEl=$(this).find("input");var linkedState=this.s9_linkedState;var currentValue=(linkedState?linkedState.getValue():0);var targetValue=(this.s9_settings.targetValue||this.s9_representedValue||0);this.s9_setTarget(targetValue===currentValue);inputEl.prop("defaultChecked",(targetValue===currentValue)).prop("checked",(targetValue===currentValue));},s9_applyConfig:function(config){supr.s9_applyConfig.call(this,config);if(config.hasOwnProperty("stateValueNames")||config.hasOwnProperty("stateName")){this.s9_updateTextContent();}if(config.hasOwnProperty("normalSettings")){var normalSettings=config.normalSettings;if(normalSettings&&normalSettings.hasOwnProperty("targetValue")){this.s9_updateTextContent();this.s9_updateTarget();}}},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);if(settings.hasOwnProperty("labelStyle")&&!(settings.hasOwnProperty("text"))){this.s9_updateTextContent();}},s9_stateChanged:function(event){supr.s9_stateChanged.call(this,event);this.s9_updateTextContent();this.s9_updateTarget();},s9_fieldChanged:function(event){supr.s9_fieldChanged.call(this,event);var linkedState=this.s9_linkedState;var currentValue=(linkedState?linkedState.getValue():0);var targetValue=(this.s9_settings.targetValue||this.s9_representedValue||0);var nextValue=((currentValue!==targetValue)?targetValue:currentValue?0:1);if(linkedState){linkedState.setValue(nextValue);}}});site9.support._WireframingStateCheckboxImpl=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_className:"s9-box",s9_contentSEL:null});var OID=2045;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_className:"s9-h-line",s9_contentSEL:null});var OID=2040;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_className:"s9-v-line",s9_contentSEL:null});var OID=2041;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_className:"s9-ct",initContent:function(el){var script=$(el).children("script");$('<div class="s9-content s9-scrolling"/>').append($(el).children()).appendTo(el);$(el).append(script);},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);if(settings.hasOwnProperty("allowsOverflow")||settings.hasOwnProperty("showsScrollbars")){var allowsOverflow=this.s9_settings.allowsOverflow;var showsScrollbars=this.s9_settings.showsScrollbars;this.s9_setContentStyles({overflow:allowsOverflow?"visible":(showsScrollbars===true)?"scroll":(showsScrollbars===false)?"hidden":""});}}});var OID=2042;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_className:"s9-text",s9_preservesWhiteSpace:true,initContent:function(el){$('<div class="s9-content s9-scrolling"><div/></div>').appendTo(el);},s9_applyConfig:function(config){supr.s9_applyConfig.call(this,config);if(config.hasOwnProperty("content")){var textEl=$(this).find(this.s9_contentSEL).children("div");var text=config.content;textEl.text(text||"");this.s9_reApplyVertAlign();}},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);if(settings.hasOwnProperty("showsScrollbars")){var showsScrollbars=settings.showsScrollbars;this.s9_setContentStyles({overflow:(showsScrollbars===true)?"scroll":(showsScrollbars===false)?"hidden":""});}}});var OID=5028;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_className:"s9-img",initContent:function(el){$('<img class="s9-content">').appendTo(el);},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);if(settings.hasOwnProperty("src")){var contentEl=$(this).find(this.s9_contentSEL);var src=settings.src;if(src){contentEl.attr("src",site9.support.url(src));}}if(settings.hasOwnProperty("text")){var contentEl=$(this).find(this.s9_contentSEL);contentEl.attr("alt",settings.text||"");}if(site9.hasAnyOwnProperties(settings,"src","strokeT","strokeR","strokeB","strokeL","paddingT","paddingR","paddingB","paddingL")){this.s9_updateEmptyImg();}},s9_applyContentStyles:function(contentStyles){supr.s9_applyContentStyles.call(this,contentStyles);if(site9.hasAnyOwnProperties(contentStyles,"-s9-border-width","-s9-padding","border-style","border-color")){this.s9_updateEmptyImg();}},s9_applySizing:function(sizing){supr.s9_applySizing.call(this,sizing);this.s9_updateEmptyImg();},s9_updateEmptyImg:function(){site9.afterDOM(this.s9__updateEmptyImg,this);},s9__updateEmptyImg:function(){if(this.s9_settings.src){return;}var contentEl=$(this).find(this.s9_contentSEL);var sizingWidth=this.s9_sizing.width;var sizingHeight=this.s9_sizing.height;var borderWidth=this.s9_contentStyles["-s9-border-width"];var borderStyle=this.s9_contentStyles["border-style"];var borderColor=this.s9_contentStyles["border-color"];site9.readDOM(function(){if(this.s9_settings.src){return;}var w=(contentEl.width()||1);var h=(contentEl.height()||1);if(sizingWidth==null&&sizingHeight==null){w=h=100;}else{if(sizingWidth==null){w=h;}else{if(sizingHeight==null){h=w;}}}var src=site9.support.makeEmptyImage(w,h,borderWidth,borderStyle,borderColor);site9.writeDOM(function(){if(this.s9_settings.src){return;}contentEl.attr("src",src);},this);},this);}});var OID=1001;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_className:"s9-link",s9_preservesWhiteSpace:true,initContent:function(el){$('<a class="s9-content"><span/></a>').appendTo(el);},s9_applyConfig:function(config){supr.s9_applyConfig.call(this,config);if(config.hasOwnProperty("events")){var events=config.events;if(events&&events.hasOwnProperty("clickURL")){var contentEl=$(this).find(this.s9_contentSEL);var url=events.clickURL;if(url){contentEl.attr("href",url);}else{contentEl.removeAttr("href");}}}},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);if(settings.hasOwnProperty("text")){var textEl=$(this).find(this.s9_contentSEL).children("span");var text=settings.text;textEl.text(text||"");this.s9_reApplyVertAlign();}}});var OID=5027;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_className:"s9-rich-text",initContent:function(el){$('<div class="s9-content s9-scrolling"><div/></div>').appendTo(el);},s9_applyConfig:function(config){supr.s9_applyConfig.call(this,config);if(config.hasOwnProperty("content")&&!(site9.SAFE_MODE)){var htmlEl=$(this).find(this.s9_contentSEL).children("div");var html=config.content;htmlEl.html(html||"");this.s9_reApplyVertAlign();}},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);if(settings.hasOwnProperty("showsScrollbars")){var showsScrollbars=settings.showsScrollbars;this.s9_setContentStyles({overflow:(showsScrollbars===true)?"scroll":(showsScrollbars===false)?"hidden":""});}}});var OID=8;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_className:"s9-smart-img",s9_refImageSEL:"> .s9-smart-img-ref",s9_imageSEL:"img",s9_init:function(){this.s9_tiles={};supr.s9_init.call(this);this.s9_updateTiles();},s9_destroy:function(){supr.s9_destroy.call(this);RetryQ.removeScope(this);this.s9_tiles=null;},initContent:function(el){var b=[],bn=0;b[bn++]='<div class="s9-content"><img class="s9-smart-img-ref">';for(var i=0;i<9;i++){b[bn++]='<div class="s9-smart-img-tile"><img></div>';}b[bn++]="</div>";$(b.join("")).appendTo(el);},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);if(settings.hasOwnProperty("src")){var imgEls=$(this).find(this.s9_contentSEL).find(this.s9_imageSEL);var src=settings.src;if(src){imgEls.attr("src",site9.support.url(src));this.s9_updateTiles();}}if(settings.hasOwnProperty("text")){var imgEls=$(this).find(this.s9_contentSEL).find(this.s9_imageSEL);imgEls.attr("alt",settings.text||"");}if(site9.hasAnyOwnProperties(settings,"src","strokeT","strokeR","strokeB","strokeL","paddingT","paddingR","paddingB","paddingL")){this.s9_updateEmptyImg();}if(site9.hasAnyOwnProperties(settings,"topEdge","rightEdge","bottomEdge","leftEdge","pixelRatio","strokeT","strokeR","strokeB","strokeL","paddingT","paddingR","paddingB","paddingL")){this.s9_updateTiles();}},s9_applyContentStyles:function(contentStyles){supr.s9_applyContentStyles.call(this,contentStyles);if(site9.hasAnyOwnProperties(contentStyles,"-s9-border-width","-s9-padding","border-style","border-color")){this.s9_updateEmptyImg();}},s9_applySizing:function(sizing){supr.s9_applySizing.call(this,sizing);this.s9_updateEmptyImg();this.s9_updateTiles();},s9_updateEmptyImg:function(){site9.afterDOM(this.s9__updateEmptyImg,this);},s9__updateEmptyImg:function(){if(this.s9_settings.src){return;}var contentEl=$(this).find(this.s9_contentSEL);var imgEls=contentEl.find(this.s9_imageSEL);var sizingWidth=this.s9_sizing.width;var sizingHeight=this.s9_sizing.height;var borderWidth=this.s9_contentStyles["-s9-border-width"];var borderStyle=this.s9_contentStyles["border-style"];var borderColor=this.s9_contentStyles["border-color"];site9.readDOM(function(){if(this.s9_settings.src){return;}var w=(contentEl.width()||1);var h=(contentEl.height()||1);if(sizingWidth==null&&sizingHeight==null){w=h=100;}else{if(sizingWidth==null){w=h;}else{if(sizingHeight==null){h=w;}}}var src=site9.support.makeEmptyImage(w,h,borderWidth,borderStyle,borderColor);site9.writeDOM(function(){if(this.s9_settings.src){return;}imgEls.attr("src",src);this.s9_updateTiles();},this);},this);},s9_updateTiles:function(){site9.readDOM(function(){var settings=this.s9_settings;var contentEl=$(this).find(this.s9_contentSEL);var ref=contentEl.find(this.s9_refImageSEL);var w=ref.width();var h=ref.height();if(!(w&&h)){RetryQ.once(this.s9_updateTiles,this);return;}var elW=(contentEl.width()||1);var elH=(contentEl.height()||1);var t=(settings.topEdge||0);var r=(settings.rightEdge||0);var b=(settings.bottomEdge||0);var l=(settings.leftEdge||0);var pr=(settings.pixelRatio||1);w/=pr;h/=pr;var c=(elW-l-r);var m=(elH-t-b);if(c<0){c=0;r=elW-l;if(r<0){r=0;l=elW;}}if(m<0){m=0;b=elH-t;if(b<0){b=0;t=elH;}}var sx=((elW-l-r)/Math.max(1,w-l-r));var sy=((elH-t-b)/Math.max(1,h-t-b));site9.writeDOM(function(){this.s9_setTiles({l:l,c:c,r:r,t:t,m:m,b:b,w:w,h:h,sW:Math.round(w*sx),sH:Math.round(h*sy),sL:Math.round(l*sx),sT:Math.round(t*sy)});},this);},this);},s9_setTiles:function(newTiles,dropMissing){var tiles=IMPL.MERGE(this.s9_tiles,newTiles,dropMissing);if(tiles){this.s9_applyTiles(tiles);}return tiles;},s9_applyTiles:function(tiles){tiles=this.s9_tiles;var l=tiles.l,c=tiles.c,r=tiles.r,t=tiles.t,m=tiles.m,b=tiles.b,w=tiles.w,h=tiles.h,sW=tiles.sW,sH=tiles.sH,sL=tiles.sL,sT=tiles.sT;var contentEl=$(this).find(this.s9_contentSEL);var clips=contentEl.children(".s9-smart-img-tile");var imgs=clips.children("img");clips.eq(0).css({display:(t&&l?"":"none"),width:l+"px",height:t+"px",left:"0px",top:"0px"});clips.eq(1).css({display:(t&&c?"":"none"),width:c+"px",height:t+"px",left:l+"px",top:"0px"});clips.eq(2).css({display:(t&&r?"":"none"),width:r+"px",height:t+"px",right:"0px",top:"0px"});clips.eq(3).css({display:(m&&l?"":"none"),width:l+"px",height:m+"px",left:"0px",top:t+"px"});clips.eq(4).css({display:(m&&c?"":"none"),width:c+"px",height:m+"px",left:l+"px",top:t+"px"});clips.eq(5).css({display:(m&&r?"":"none"),width:r+"px",height:m+"px",right:"0px",top:t+"px"});clips.eq(6).css({display:(b&&l?"":"none"),width:l+"px",height:b+"px",left:"0px",bottom:"0px"});clips.eq(7).css({display:(b&&c?"":"none"),width:c+"px",height:b+"px",left:l+"px",bottom:"0px"});clips.eq(8).css({display:(b&&r?"":"none"),width:r+"px",height:b+"px",right:"0px",bottom:"0px"});imgs.eq(0).css({width:w+"px",height:h+"px",left:"0px",top:"0px"});imgs.eq(1).css({width:sW+"px",height:h+"px",left:"-"+sL+"px",top:"0px"});imgs.eq(2).css({width:w+"px",height:h+"px",right:"0px",top:"0px"});imgs.eq(3).css({width:w+"px",height:sH+"px",left:"0px",top:"-"+sT+"px"});imgs.eq(4).css({width:sW+"px",height:sH+"px",left:"-"+sL+"px",top:"-"+sT+"px"});imgs.eq(5).css({width:w+"px",height:sH+"px",right:"0px",top:"-"+sT+"px"});imgs.eq(6).css({width:w+"px",height:h+"px",left:"0px",bottom:"0px"});imgs.eq(7).css({width:sW+"px",height:h+"px",left:"-"+sL+"px",bottom:"0px"});imgs.eq(8).css({width:w+"px",height:h+"px",right:"0px",bottom:"0px"});}});var OID=2043;var RetryQ=$.extend(new site9.Queue("SmartImg.RetryQ"),{delay:100,flush:function(){site9.Queue.prototype.flush.call(this);site9.syncDOM();}});IMPL.RetryQ=RetryQ;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_className:"s9-iframe",initContent:function(el){$('<iframe class="s9-content s9-scrolling" frameborder="0"/>').attr("src","about:blank").appendTo(el);site9.support.toggleContentPlaceHolder(el,true);},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);var contentEl=$(this).find(this.s9_contentSEL);if(settings.hasOwnProperty("src")&&!(site9.SAFE_MODE)&&!(this.s9_needsEntitlements)){var src=settings.src;contentEl.attr("src",site9.support.url(src)||"about:blank");site9.support.toggleContentPlaceHolder(this,!(src));}if(settings.hasOwnProperty("showsScrollbars")){var showsScrollbars=settings.showsScrollbars;if(showsScrollbars===true){contentEl.attr("scrolling","yes");}else{if(showsScrollbars===false){contentEl.attr("scrolling","no");}else{contentEl.removeAttr("scrolling");}}var oldContentEl=contentEl;contentEl=contentEl.clone();oldContentEl.replaceWith(contentEl);}}});var OID=5025;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_className:"s9-swf",initContent:function(el){$('<div class="s9-content"/>').appendTo(el);site9.support.toggleContentPlaceHolder(el,true);},s9_destroy:function(){removeSWF(this);supr.s9_destroy.call(this);},s9_applyEssentialSettings:function(settings){supr.s9_applyEssentialSettings.call(this,settings);if(settings.hasOwnProperty("src")){removeSWF(this);embedSWF(this);site9.support.toggleContentPlaceHolder(this,!(settings.src));}}});function removeSWF(el){var j=$(el).find(el.s9_contentSEL).filter("object");var swfId=j.attr("id");if(!(swfId)){return;}if(el.s9_isAlive){var swfCss=getAllStyles(j[0]);var swfData=$.extend(true,{},j.data());$('<div class="s9-content"/>').css(swfCss).data(swfData).insertBefore(j);}swfobject.removeSWF(swfId);}function embedSWF(el){var src=el.s9_settings.src;if(!(src)){return;}var j=$(el).find(el.s9_contentSEL);var swfId=site9.support.id();var swfCss=getAllStyles(j[0]);var swfData=$.extend(true,{},j.data());j.attr("id",swfId);swfobject.embedSWF(site9.support.url(src),swfId,"100%","100%","8",EXPRESS_INSTALL,FLASH_VARS,PARAMS,ATTRIBUTES,function(){$(swfobject.getObjectById(swfId)).css({visibility:"inherit"}).css(swfCss).data(swfData);});}function getAllStyles(el){var style=el.style;var css={};for(var i=0,n=style.length;i<n;i++){var name=style[i];css[name]=style[name];}return css;}var EXPRESS_INSTALL=null;var FLASH_VARS=null;var PARAMS={wmode:"transparent"};var ATTRIBUTES={"class":"s9-content"};var OID=1008;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_className:"s9-rss",initContent:function(el){$('<div class="s9-content s9-scrolling"/>').appendTo(el);site9.support.toggleContentPlaceHolder(el,true);},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);var contentEl=$(this).find(this.s9_contentSEL);var hasSrc=!!(this.s9_settings.src);if(settings.hasOwnProperty("linkTarget")){var linkEls=contentEl.find(".s9-rss-entry-link");var linkTarget=settings.linkTarget;linkEls.attr("target",linkTarget||"");}if(settings.hasOwnProperty("src")){contentEl.empty();site9.support.toggleContentPlaceHolder(this,!(settings.src));}if(hasSrc&&settings.hasOwnProperty("src")){this.s9_needsServerRender=true;}if(hasSrc&&settings.hasOwnProperty("displayFeedTitle")){if(settings.displayFeedTitle){this.s9_needsServerRender=true;}else{var feedTitleEl=contentEl.find(".s9-rss-feed-title");feedTitleEl.remove();}}if(hasSrc&&settings.hasOwnProperty("displayFeedDescription")){if(settings.displayFeedDescription){this.s9_needsServerRender=true;}else{var feedDescriptionEl=contentEl.find(".s9-rss-feed-description");feedDescriptionEl.remove();}}if(hasSrc&&settings.hasOwnProperty("displayEntryDescription")){if(settings.displayEntryDescription){this.s9_needsServerRender=true;}else{var entryDescriptionEls=contentEl.find(".s9-rss-entry-description");entryDescriptionEls.remove();}}if(hasSrc&&settings.hasOwnProperty("maxEntryDescriptionLength")){this.s9_needsServerRender=true;}if(hasSrc&&settings.hasOwnProperty("maxEntriesDisplayed")){this.s9_needsServerRender=true;}if(hasSrc&&settings.hasOwnProperty("displayInReverseOrder")){this.s9_needsServerRender=true;}if(settings.hasOwnProperty("showsScrollbars")){var showsScrollbars=settings.showsScrollbars;this.s9_setContentStyles({overflow:(showsScrollbars===true)?"scroll":(showsScrollbars===false)?"hidden":""});}}});var OID=5011;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._WireframingStateNavImpl;var IMPL=site9.create(supr,{s9_className:"s9-h-st-nav"});var OID=2044;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._WireframingStateNavListImpl;var IMPL=site9.create(supr,{});var NAME="2044_list";site9.support[NAME]=IMPL;})(jQuery);(function($){var supr=site9.support._WireframingStateNavItemImpl;var IMPL=site9.create(supr,{});var NAME="2044_item";site9.support[NAME]=IMPL;})(jQuery);(function($){var supr=site9.support._WireframingStateNavImpl;var IMPL=site9.create(supr,{s9_className:"s9-v-st-nav",});var OID=2047;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._WireframingStateNavListImpl;var IMPL=site9.create(supr,{});var NAME="2047_list";site9.support[NAME]=IMPL;})(jQuery);(function($){var supr=site9.support._WireframingStateNavItemImpl;var IMPL=site9.create(supr,{});var NAME="2047_item";site9.support[NAME]=IMPL;})(jQuery);(function($){var supr=site9.support._WireframingSelectionImpl;var UTIL=site9.support._WireframingStateNavUtil;var IMPL=site9.create(supr,{s9_className:"s9-st-selection",s9_applyConfig:function(config){supr.s9_applyConfig.call(this,config);if(config.hasOwnProperty("stateValueNames")){updateOptions(this);}},s9_fieldChanged:function(event){supr.s9_fieldChanged.call(this,event);updateStateValue(this);},s9_stateChanged:function(event){supr.s9_stateChanged.call(this,event);updateFieldValue(this);}});function updateOptions(el){var linkedState=el.s9_linkedState;var valueNames=UTIL.getValueNames(el);var valueNameCount=UTIL.getValueNameCount(el,valueNames);var contentEl=$(el).find(el.s9_contentSEL);var textEls=contentEl.find("option");var texts=[];for(var i=0;i<valueNameCount;i++){texts[i]=UTIL.getValueName(el,valueNames,valueNameCount,i);}var optionsChanged=(textEls.length!==valueNameCount);while(textEls.length>valueNameCount){textEls=textEls.not(textEls.last().remove());}while(textEls.length<valueNameCount){textEls=textEls.add($("<option/>").appendTo(contentEl));}for(var i=0,n=textEls.length;i<n;i++){textEls.eq(i).text(texts[i]||"");}if(optionsChanged){updateFieldValue(el);}}function updateFieldValue(el){var linkedState=el.s9_linkedState;var contentEl=$(el).find(el.s9_contentSEL);var textEls=contentEl.find("option");var currentValue=(linkedState?linkedState.getValue():0);for(var i=0,n=textEls.length;i<n;i++){textEls.eq(i).prop("defaultSelected",(i===currentValue)).prop("selected",(i===currentValue));}if(!(contentEl.prop("multiple"))){contentEl.prop("selectedIndex",contentEl.prop("selectedIndex"));}}function updateStateValue(el){var linkedState=el.s9_linkedState;if(!(linkedState)){return;}var contentEl=$(el).find(el.s9_contentSEL);var textEls=contentEl.find("option");for(var i=0,n=textEls.length;i<n;i++){if(textEls.eq(i).prop("selected")){linkedState.setValue(i);}}}var OID=2046;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var UTIL=site9.support._WireframingStateNavUtil;var IMPL=site9.create(supr,{s9_className:"s9-st-cycle-nav",s9_preservesWhiteSpace:true,initContent:function(el){$('<a class="s9-content"><span/></a>').appendTo(el);},s9_applyConfig:function(config){supr.s9_applyConfig.call(this,config);if(config.hasOwnProperty("normalSettings")){var normalSettings=config.normalSettings;}if(config.hasOwnProperty("stateValueNames")){this.s9_updateTextContent();}},s9_updateTextContent:function(){updateTextAndHref(this);},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);if(settings.hasOwnProperty("labelStyle")||settings.hasOwnProperty("text")||settings.hasOwnProperty("delta")||settings.hasOwnProperty("wrapAtEnd")){updateTextAndHref(this);}},s9_stateChanged:function(event){supr.s9_stateChanged.call(this,event);updateTextAndHref(this);}});function updateTextAndHref(el){var valueNames=UTIL.getValueNames(el);var valueNameCount=UTIL.getValueNameCount(el,valueNames);var currentValue=(el.s9_linkedState?el.s9_linkedState.getValue():0);var nextValue=getNextValue(el,valueNames,valueNameCount,currentValue);var nextValueURL=UTIL.getValueURL(el,valueNames,valueNameCount,nextValue);var contentEl=$(el).find(el.s9_contentSEL);var textEl=contentEl.children("span");var text=UTIL.getLabelText(el,valueNames,valueNameCount,currentValue,nextValue);textEl.text(text||"");if(nextValueURL){contentEl.attr("href",nextValueURL);}else{contentEl.removeAttr("href");}el.s9_reApplyVertAlign();}function getNextValue(el,valueNames,valueNameCount,currentValue){var settings=el.s9_settings;var delta=(settings.delta||0);var wrapAtEnd=(settings.wrapAtEnd||false);var n=Math.max(1,valueNameCount);currentValue=Math.min(currentValue,n-1);var nextValue=(currentValue+delta);if(wrapAtEnd){nextValue=((nextValue+n)%n);}if(nextValue<0||nextValue>=n){nextValue=-1;}return nextValue;}var OID=2048;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._WireframingButtonImpl;var UTIL=site9.support._WireframingStateNavUtil;var IMPL=site9.create(supr,{s9_className:"s9-st-value-btn",s9_createTextContent:function(){var valueNames=UTIL.getValueNames(this);var valueNameCount=UTIL.getValueNameCount(this,valueNames);var linkedState=this.s9_linkedState;var currentValue=(linkedState?linkedState.getValue():0);var targetValue=(this.s9_settings.targetValue||0);var nextValue=((currentValue!==targetValue)?targetValue:currentValue?0:1);return UTIL.getLabelText(this,valueNames,valueNameCount,currentValue,nextValue,targetValue);},s9_updateTarget:function(){var valueNames=UTIL.getValueNames(this);var valueNameCount=UTIL.getValueNameCount(this,valueNames);var linkedState=this.s9_linkedState;var currentValue=(linkedState?linkedState.getValue():0);var targetValue=(this.s9_settings.targetValue||0);this.s9_setTarget(targetValue===currentValue);},s9_applyConfig:function(config){supr.s9_applyConfig.call(this,config);if(config.hasOwnProperty("stateValueNames")||config.hasOwnProperty("stateName")){this.s9_updateTextContent();}if(config.hasOwnProperty("normalSettings")){var normalSettings=config.normalSettings;if(normalSettings&&normalSettings.hasOwnProperty("targetValue")){this.s9_updateTextContent();this.s9_updateTarget();}}},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);if(settings.hasOwnProperty("labelStyle")&&!(settings.hasOwnProperty("text"))){this.s9_updateTextContent();}},s9_init:function(){supr.s9_init.call(this);this.s9_updateTarget();this.s9_updateSettings();},s9_stateChanged:function(event){supr.s9_stateChanged.call(this,event);this.s9_updateTextContent();this.s9_updateTarget();},s9_mouseClicked:function(event){supr.s9_mouseClicked.apply(this,arguments);if(event.clickCount!==1){return;}var linkedState=this.s9_linkedState;var currentValue=(linkedState?linkedState.getValue():0);var targetValue=(this.s9_settings.targetValue||0);var nextValue=((currentValue!==targetValue)?targetValue:currentValue?0:1);if(linkedState){linkedState.setValue(nextValue);}}});var OID=2063;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var UTIL=site9.support._WireframingStateNavUtil;var IMPL=site9.create(supr,{s9_className:"s9-st-value-name",s9_preservesWhiteSpace:true,s9_isTarget:true,initContent:function(el){$('<div class="s9-content"><div/></div>').appendTo(el);},s9_applyConfig:function(config){supr.s9_applyConfig.call(this,config);if(config.hasOwnProperty("stateValueNames")){updateText(this);}},s9_stateChanged:function(event){supr.s9_stateChanged.call(this,event);updateText(this);}});function updateText(el){var valueNames=UTIL.getValueNames(el);var valueNameCount=UTIL.getValueNameCount(el,valueNames);var currentValue=(el.s9_linkedState?el.s9_linkedState.getValue():0);var textEl=$(el).find(el.s9_contentSEL).children("div");var text=UTIL.getValueName(el,valueNames,valueNameCount,currentValue);textEl.text(text||"");el.s9_reApplyVertAlign();}var OID=2062;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._WireframingStateCheckboxImpl;var IMPL=site9.create(supr,{s9_className:"s9-st-checkbox"});var OID=2060;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._WireframingStateNavImpl;var UTIL=site9.support._WireframingStateNavUtil;var IMPL=site9.create(supr,{s9_className:"s9-st-radio-group"});var OID=2061;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._WireframingStateNavListImpl;var IMPL=site9.create(supr,{});var NAME="2061_list";site9.support[NAME]=IMPL;})(jQuery);(function($){var supr=site9.support._WireframingStateCheckboxImpl;var IMPL=site9.create(supr,{s9_isRadio:true});var OID="2061_item";site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._WireframingButtonImpl;var IMPL=site9.create(supr,{s9_className:"s9-btn"});var OID=5019;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_className:"s9-text-field",initContent:function(el){$('<input class="s9-content">').appendTo(el);},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);var contentEl=$(this).find(this.s9_contentSEL);if(settings.hasOwnProperty("type")){var type=settings.type;var oldContentEl=contentEl;var html=$("<div/>").append(oldContentEl.clone()).html();html=html.replace(/\s+type\s*=\s*(?:(?:"([^"]+)")|([^\s>]+))/i,"");html=html.substring(0,html.length-1)+' type="'+type+'"'+html.substring(html.length-1);contentEl=$(html);contentEl[0].value=oldContentEl[0].value;oldContentEl.replaceWith(contentEl);}if(settings.hasOwnProperty("text")){var text=settings.text;contentEl.prop("defaultValue",text||"").val(text||"");}if(settings.hasOwnProperty("placeholder")){var placeholder=settings.placeholder;contentEl.attr("placeholder",placeholder||"");}if(settings.hasOwnProperty("disabled")){var disabled=settings.disabled;contentEl.prop("disabled",disabled||false);}if(settings.hasOwnProperty("readOnly")){var readOnly=settings.readOnly;contentEl.prop("readOnly",readOnly||false);}if(settings.hasOwnProperty("maxLength")){var maxLength=settings.maxLength;if(maxLength){contentEl.attr("maxlength",maxLength);}else{contentEl.removeAttr("maxlength");}}}});var OID=5022;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_className:"s9-text-area",initContent:function(el){$('<textarea class="s9-content s9-scrolling"></textarea>').appendTo(el);},s9_applyConfig:function(config){supr.s9_applyConfig.call(this,config);if(config.hasOwnProperty("content")){var contentEl=$(this).find(this.s9_contentSEL);var content=config.content;contentEl.prop("defaultValue",content||"").val(content||"");}},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);var contentEl=$(this).find(this.s9_contentSEL);if(settings.hasOwnProperty("placeholder")){var placeholder=settings.placeholder;contentEl.attr("placeholder",placeholder||"");}if(settings.hasOwnProperty("disabled")){var disabled=settings.disabled;contentEl.prop("disabled",disabled||false);}if(settings.hasOwnProperty("readOnly")){var readOnly=settings.readOnly;contentEl.prop("readOnly",readOnly||false);}if(settings.hasOwnProperty("showsScrollbars")){var showsScrollbars=settings.showsScrollbars;this.s9_setContentStyles({overflow:(showsScrollbars===true)?"scroll":(showsScrollbars===false)?"hidden":""});}}});var OID=5023;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._WireframingSelectionImpl;var IMPL=site9.create(supr,{s9_className:"s9-selection",s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);if(settings.hasOwnProperty("optionNamesStr")||settings.hasOwnProperty("selectedValuesStr")){var contentEl=$(this).find(this.s9_contentSEL);var fullSettings=this.s9_settings;var optionNamesStr=(fullSettings.optionNamesStr||null);var selectedValuesStr=(fullSettings.selectedValuesStr||null);var textEls=contentEl.find("option");var texts=(optionNamesStr?optionNamesStr.split(/[\r\n]+/):[]);var selectedValues=(selectedValuesStr?selectedValuesStr.split(/\D+/):[]);var textCount=texts.length;while(textEls.length>textCount){var textEl=textEls.last();textEls=textEls.not(textEl);textEl.remove();}while(textEls.length<textCount){var textEl=$('<option value="'+(textEls.length+1)+'"/>');textEl.appendTo(contentEl);textEls=textEls.add(textEl);}for(var i=0;i<textCount;i++){var textEl=textEls.eq(i);var selected=(selectedValues.indexOf((i+1).toString())!==-1);textEl.text(texts[i]).prop("defaultSelected",selected).prop("selected",selected);}if(!(contentEl.prop("multiple"))){contentEl.prop("selectedIndex",contentEl.prop("selectedIndex"));}}}});var OID=5024;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._WireframingCheckboxImpl;var IMPL=site9.create(supr,{s9_className:"s9-checkbox"});var OID=5020;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._WireframingCheckboxImpl;var IMPL=site9.create(supr,{s9_className:"s9-radio",s9_isRadio:true,s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);if(settings.hasOwnProperty("groupName")){var inputEl=$(this).find("input");var groupName=settings.groupName;if(groupName){inputEl.attr("name",groupName);}else{inputEl.removeAttr("name");}}},s9_fieldChanged:function(event){supr.s9_fieldChanged.call(this,event);updateGroupedRadioButtons(event.target);}});function updateGroupedRadioButtons(sender){var groupName=$(sender).attr("name");if(!(groupName)||!($(sender).prop("checked"))){return;}var inputEls=$('input[type="radio"]').not(sender).filter(function(){return($(this).attr("name")===groupName);});inputEls.prop("checked",false);}var OID=5021;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_className:"s9-file-upload",initContent:function(el){$('<label class="s9-content"><span><input type="file"></span></label>').appendTo(el);},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);if(settings.hasOwnProperty("disabled")){var contentEl=$(this).find(this.s9_contentSEL);var disabled=settings.disabled;contentEl.prop("disabled",(disabled||false));}}});var OID=5026;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_className:"s9-shape",initContent:function(el){$('<canvas class="s9-content">').appendTo(el);},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);if(site9.hasAnyOwnProperties(settings,"sides","rotation","starAmp","lineJoin","miterLimit","strokeT","strokeR","strokeB","strokeL","paddingT","paddingR","paddingB","paddingL")){this.s9_updateCanvas();}},s9_applyContentStyles:function(contentStyles){newContentStyles=$.extend({},contentStyles,{"background-color":null,"border-style":"none"});supr.s9_applyContentStyles.call(this,newContentStyles);if(site9.hasAnyOwnProperties(contentStyles,"-s9-border-width","-s9-padding","border-style","border-color","background-color")){this.s9_updateCanvas();}},s9_applySizing:function(sizing){supr.s9_applySizing.call(this,sizing);this.s9_updateCanvas();},s9_updateCanvas:function(){site9.afterDOM(this.s9__updateCanvas,this);},s9__updateCanvas:function(){var contentEl=$(this).find(this.s9_contentSEL);var sizingWidth=this.s9_sizing.width;var sizingHeight=this.s9_sizing.height;var borderWidth=this.s9_contentStyles["-s9-border-width"];var borderStyle=this.s9_contentStyles["border-style"];var borderColor=this.s9_contentStyles["border-color"];var fillColor=this.s9_contentStyles["background-color"];site9.readDOM(function(){var w=(contentEl.width()||1);var h=(contentEl.height()||1);if(sizingWidth==null&&sizingHeight==null){w=h=100;}else{if(sizingWidth==null){w=h;}else{if(sizingHeight==null){h=w;}}}w=Math.max(1,w);h=Math.max(1,h);var sw=site9.support.parsePx(borderWidth);var sc=(borderColor||"#000000");var sd;if(borderStyle==="dotted"){sd=(sw/3+", "+sw/3);}else{if(borderStyle==="dashed"){sd=(1.5*sw+", "+1.5*sw);}}site9.writeDOM(function(){contentEl.attr("width",w);contentEl.attr("height",h);var ctx=contentEl[0].getContext("2d");var sides=this.s9_settings.sides;var rotation=this.s9_settings.rotation;var starAmp=this.s9_settings.starAmp;var lineJoin=this.s9_settings.lineJoin;var miterLimit=this.s9_settings.miterLimit;this.s9_drawPolyStar(ctx,w,h,sw,sc,sd,fillColor,sides,rotation,starAmp,lineJoin,miterLimit);},this);},this);},s9_drawPolyStar:function(ctx,w,h,sw,sc,sd,fc,numSides,rotation,starAmp,lineJoin,miterLimit){var xCenter=w/2;var yCenter=h/2;var vscale=h/w;var hscale=w/h;var r=w/2;if(w>h){r=h/2;}r=r-(sw*2);var p=numSides;starAmp=starAmp&&(1-(starAmp/100));ctx.save();ctx.beginPath();ctx.translate(xCenter,yCenter);if(w>h){ctx.scale(hscale,1);}else{ctx.scale(1,vscale);}ctx.rotate(Math.PI/(180/rotation));ctx.moveTo(0,0-r);for(var i=0;i<p;i++){ctx.rotate(Math.PI/(p));if(starAmp){ctx.lineTo(0,0-(r*starAmp));}ctx.rotate(Math.PI/p);ctx.lineTo(0,0-r);}ctx.closePath();ctx.restore();ctx.lineWidth=sw;ctx.lineJoin=lineJoin;ctx.strokeStyle=sc;ctx.lineWidth=sw;ctx.miterLimit=miterLimit;ctx.stroke();ctx.fillStyle=fc||"";ctx.fill();}});var OID=2064;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var SVG_NS="http://www.w3.org/2000/svg";var IMPL=site9.create(supr,{s9_className:"s9-arrow",initContent:function(el){$('<div class="s9-content">').appendTo(el);},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);if(site9.hasAnyOwnProperties(settings,"orient","markerEnd","markerStart","markerSize","markerSides","curveStyle")){this.s9_updateSvgLine();}},s9_applyContentStyles:function(contentStyles){newContentStyles=$.extend({},contentStyles,{"background-color":null,"border-style":"none"});supr.s9_applyContentStyles.call(this,newContentStyles);if(site9.hasAnyOwnProperties(contentStyles,"-s9-border-width","-s9-padding","border-style","border-color","background-color")){this.s9_updateSvgLine();}},s9_applySizing:function(sizing){supr.s9_applySizing.call(this,sizing);this.s9_updateSvgLine();},s9_updateSvgLine:function(){site9.afterDOM(this.s9__updateSvgLine,this);},s9__updateSvgLine:function(){var contentEl=$(this).find(this.s9_contentSEL);var borderWidth=this.s9_contentStyles["-s9-border-width"];var borderStyle=this.s9_contentStyles["border-style"];var borderColor=this.s9_contentStyles["border-color"];var backgroundColor=this.s9_contentStyles["background-color"];var strokeColor=(borderColor||"#000000");var strokeWidth=site9.support.parsePx(borderWidth);var strokeDash="none";var fillColor=(backgroundColor||strokeColor);if(borderStyle==="dotted"){strokeDash=((strokeWidth/3).toFixed(2)+", "+(strokeWidth/3).toFixed(2));}else{if(borderStyle==="dashed"){strokeDash=((1.5*strokeWidth)+", "+(1.5*strokeWidth));}}var markerStart=this.s9_settings.markerStart;var markerEnd=this.s9_settings.markerEnd;var markerSize=this.s9_settings.markerSize+strokeWidth;var orient=this.s9_settings.orient;var curveStyle=this.s9_settings.curveStyle;site9.readDOM(function(){var w=(contentEl.width()||1);var h=(contentEl.height()||1);site9.writeDOM(function(){var svg=document.createElementNS(SVG_NS,"svg");svg.setAttribute("width",w);svg.setAttribute("height",h);var defs=document.createElementNS(SVG_NS,"defs");var markerStartId;var markerEndId;if(markerStart){markerStartId=site9.support.id();addMarkerDef(defs,markerStartId,markerStart,markerSize,fillColor,strokeColor,strokeWidth,"none");}if(markerEnd){if(markerEnd===markerStart){markerEndId=markerStartId;}else{markerEndId=site9.support.id();addMarkerDef(defs,markerEndId,markerEnd,markerSize,fillColor,strokeColor,strokeWidth,"none");}}svg.appendChild(defs);var theLine=createLine(w,h,orient,curveStyle,markerStartId,markerEndId,markerSize,fillColor,strokeColor,strokeWidth,strokeDash);svg.appendChild(theLine);contentEl.empty();contentEl[0].appendChild(svg);},this);},this);}});function addMarkerDef(defs,markerId,markerStyle,markerSize,fillColor,strokeColor,strokeWidth,strokeDash){if(!(markerStyle)){return;}if(strokeDash==="none"){strokeDash="0";}if(markerStyle.startsWith("arrowhead")){var rad=markerSize/2;var arrowheadSide=Math.sqrt((2*(rad*rad)-(2*rad*Math.cos(120))));if(markerStyle==="arrowhead-r"){var arrowRightPath=document.createElementNS(SVG_NS,"path");arrowRightPath.setAttribute("d","m 0,0 Q"+(arrowheadSide/2)+","+(arrowheadSide/2)+" 0,"+arrowheadSide+" L"+arrowheadSide+","+arrowheadSide/2+" L0,0z");arrowRightPath.setAttribute("fill",fillColor);arrowRightPath.setAttribute("stroke",strokeColor);arrowRightPath.setAttribute("stroke-width",strokeWidth);arrowRightPath.setAttribute("stroke-dasharray",strokeDash);arrowRightPath.setAttribute("stroke-linejoin","round");var arrowheadRight=document.createElementNS(SVG_NS,"marker");arrowheadRight.setAttribute("id",markerId);arrowheadRight.setAttribute("markerUnits","userSpaceOnUse");arrowheadRight.setAttribute("refX",arrowheadSide/2);arrowheadRight.setAttribute("refY",arrowheadSide/2);arrowheadRight.setAttribute("orient","auto");arrowheadRight.setAttribute("style","overflow:visible");arrowheadRight.appendChild(arrowRightPath);defs.appendChild(arrowheadRight);}else{if(markerStyle==="arrowhead-l"){var arrowLeftPath=document.createElementNS(SVG_NS,"path");arrowLeftPath.setAttribute("d","m 0,0 Q"+(arrowheadSide/2)+","+(arrowheadSide/2)+" 0,"+arrowheadSide+" L"+arrowheadSide+","+arrowheadSide/2+" L0,0z");arrowLeftPath.setAttribute("fill",fillColor);arrowLeftPath.setAttribute("stroke",strokeColor);arrowLeftPath.setAttribute("stroke-width",strokeWidth);arrowLeftPath.setAttribute("stroke-dasharray",strokeDash);arrowLeftPath.setAttribute("stroke-linejoin","round");arrowLeftPath.setAttribute("transform","rotate( 180, 0, 0)");var arrowheadLeft=document.createElementNS(SVG_NS,"marker");arrowheadLeft.setAttribute("id",markerId);arrowheadLeft.setAttribute("markerUnits","userSpaceOnUse");arrowheadLeft.setAttribute("refX",-arrowheadSide/2);arrowheadLeft.setAttribute("refY",-arrowheadSide/2);arrowheadLeft.setAttribute("orient","auto");arrowheadLeft.setAttribute("style","overflow:visible");arrowheadLeft.appendChild(arrowLeftPath);defs.appendChild(arrowheadLeft);}}}else{if(markerStyle.startsWith("triangle")){var rad=markerSize/2;var triangleSide=Math.sqrt((2*(rad*rad)-(2*rad*Math.cos(120))));if(markerStyle==="triangle-r"){var triRightPath=document.createElementNS(SVG_NS,"path");triRightPath.setAttribute("d","m 0,0 "+(0-triangleSide)+","+(triangleSide/2)+" 0,"+(0-triangleSide)+" "+triangleSide+","+(triangleSide/2)+"z");triRightPath.setAttribute("fill",fillColor);triRightPath.setAttribute("stroke",strokeColor);triRightPath.setAttribute("stroke-width",strokeWidth);triRightPath.setAttribute("stroke-dasharray",strokeDash);var triangleRight=document.createElementNS(SVG_NS,"marker");triangleRight.setAttribute("id",markerId);triangleRight.setAttribute("markerUnits","userSpaceOnUse");triangleRight.setAttribute("refX",0-triangleSide/2);triangleRight.setAttribute("refY",0);triangleRight.setAttribute("orient","auto");triangleRight.setAttribute("style","overflow:visible");triangleRight.appendChild(triRightPath);defs.appendChild(triangleRight);}else{if(markerStyle==="triangle-l"){var triLeftPath=document.createElementNS(SVG_NS,"path");triLeftPath.setAttribute("d","m 0,0 "+(0-triangleSide)+","+(triangleSide/2)+" 0,"+(0-triangleSide)+" "+triangleSide+","+(triangleSide/2)+"z");triLeftPath.setAttribute("fill",fillColor);triLeftPath.setAttribute("stroke",strokeColor);triLeftPath.setAttribute("stroke-width",strokeWidth);triLeftPath.setAttribute("stroke-dasharray",strokeDash);triLeftPath.setAttribute("transform","rotate( 180, 0, 0)");var triangleLeft=document.createElementNS(SVG_NS,"marker");triangleLeft.setAttribute("id",markerId);triangleLeft.setAttribute("markerUnits","userSpaceOnUse");triangleLeft.setAttribute("refX",triangleSide/2);triangleLeft.setAttribute("refY",0);triangleLeft.setAttribute("orient","auto");triangleLeft.setAttribute("style","overflow:visible");triangleLeft.appendChild(triLeftPath);defs.appendChild(triangleLeft);}}}else{if(markerStyle==="circle"){var circlePath=document.createElementNS(SVG_NS,"circle");circlePath.setAttribute("cx",0);circlePath.setAttribute("cy",0);circlePath.setAttribute("r",markerSize/2);circlePath.setAttribute("fill",fillColor);circlePath.setAttribute("stroke",strokeColor);circlePath.setAttribute("stroke-width",strokeWidth);circlePath.setAttribute("stroke-dasharray",strokeDash);var circleM=document.createElementNS(SVG_NS,"marker");circleM.setAttribute("id",markerId);circleM.setAttribute("markerUnits","userSpaceOnUse");circleM.setAttribute("refX",0);circleM.setAttribute("refY",0);circleM.setAttribute("orient","auto");circleM.setAttribute("style","overflow:visible");circleM.appendChild(circlePath);defs.appendChild(circleM);}else{if(markerStyle==="square"){var squareSide=Math.sqrt((markerSize*markerSize)/2)-1;var sqPath=document.createElementNS(SVG_NS,"rect");sqPath.setAttribute("x",0-squareSide/2);sqPath.setAttribute("y",0-squareSide/2);sqPath.setAttribute("width",squareSide);sqPath.setAttribute("height",squareSide);sqPath.setAttribute("fill",fillColor);sqPath.setAttribute("stroke",strokeColor);sqPath.setAttribute("stroke-width",strokeWidth);sqPath.setAttribute("stroke-dasharray",strokeDash);var squareM=document.createElementNS(SVG_NS,"marker");squareM.setAttribute("id",markerId);squareM.setAttribute("markerUnits","userSpaceOnUse");squareM.setAttribute("refX",0);squareM.setAttribute("refY",0);squareM.setAttribute("orient","auto");squareM.setAttribute("style","overflow:visible");squareM.appendChild(sqPath);defs.appendChild(squareM);}else{if(markerStyle==="diamond"){var squareSide=Math.sqrt((markerSize*markerSize)/2)-1;var diaPath=document.createElementNS(SVG_NS,"rect");diaPath.setAttribute("x",0-squareSide/2);diaPath.setAttribute("y",0-squareSide/2);diaPath.setAttribute("width",squareSide);diaPath.setAttribute("height",squareSide);diaPath.setAttribute("fill",fillColor);diaPath.setAttribute("stroke",strokeColor);diaPath.setAttribute("stroke-width",strokeWidth);diaPath.setAttribute("stroke-dasharray",strokeDash);diaPath.setAttribute("transform","rotate( 45, 0, 0)");var diamondM=document.createElementNS(SVG_NS,"marker");diamondM.setAttribute("id",markerId);diamondM.setAttribute("markerUnits","userSpaceOnUse");diamondM.setAttribute("refX",0);diamondM.setAttribute("refY",0);diamondM.setAttribute("orient","auto");diamondM.setAttribute("style","overflow:visible");diamondM.appendChild(diaPath);defs.appendChild(diamondM);}}}}}}function createLine(w,h,orient,curveStyle,markerStartId,markerEndId,markerSize,fillColor,strokeColor,strokeWidth,strokeDash){var svgLine=document.createElementNS(SVG_NS,"path");var startX,startY,endX,endY,qX,qY,c1X,c1Y,c2X,c2Y;var lMarkerSize=markerStartId?markerSize:0;var rMarkerSize=markerEndId?markerSize:0;var lOffset=(lMarkerSize/2)+(strokeWidth/2);var rOffset=(rMarkerSize/2)+(strokeWidth/2);var qOffset=((lMarkerSize+rMarkerSize)/4)+(strokeWidth+strokeWidth);if(orient==="h"){if(curveStyle==="q-convex"){startX=0+lOffset;endX=w-rOffset;startY=h-lOffset;endY=h-rOffset;qX=w/2;qY=0-h+qOffset;}else{if(curveStyle==="q-concave"){startX=0+lOffset;endX=w-rOffset;startY=lOffset;endY=rOffset;qX=w/2;qY=h+h-qOffset;}else{startX=lOffset;endX=w-rOffset;startY=h/2;endY=h/2;if(curveStyle==="c-small"){c1X=w/2+(lOffset-rOffset);c1Y=0-h/4;c2X=w/2+(lOffset-rOffset);c2Y=h+h/4;}else{if(curveStyle==="c-large"){var maxOffset=Math.max(lOffset,rOffset)/2;c1X=w/2;c1Y=0-h+maxOffset;c2X=w/2;c2Y=h+h-maxOffset;}}}}}else{if(orient==="v"){if(curveStyle==="q-convex"){startX=lOffset;endX=rOffset;startY=lOffset;endY=h-rOffset;qX=w+w-qOffset;qY=h/2;}else{if(curveStyle==="q-concave"){startX=w-lOffset;endX=w-rOffset;startY=lOffset;endY=h-rOffset;qX=0-w+qOffset;qY=h/2;}else{startX=w/2;endX=w/2;startY=lOffset;endY=h-rOffset;if(curveStyle==="c-small"){c1X=w+w/2;c1Y=h/2;c2X=0-w/2;c2Y=h/2;}else{if(curveStyle==="c-large"){var maxOffset=Math.max(lOffset,rOffset);c1X=w+w-maxOffset;c1Y=h/2;c2X=0-w+maxOffset;c2Y=h/2;}}}}}else{if(orient==="nw"){startX=lOffset;endX=w-rOffset;startY=h-lOffset;endY=rOffset;var maxOffset=Math.max(lOffset,rOffset);if(curveStyle==="q-convex"){qX=maxOffset;qY=maxOffset;}else{if(curveStyle==="q-concave"){qX=w-maxOffset;qY=h-maxOffset;}else{if(curveStyle==="c-small"){c1X=w+w/8;c1Y=h/2;c2X=0-w/8;c2Y=h/2;}else{if(curveStyle==="c-large"){c1X=0+maxOffset;c1Y=0+maxOffset;c2X=w-maxOffset;c2Y=h-maxOffset;}}}}}else{if(orient==="sw"){startX=lOffset;endX=w-rOffset;startY=lOffset;endY=h-rOffset;var maxOffset=Math.max(lOffset,rOffset);if(curveStyle==="q-convex"){qX=w-maxOffset;qY=maxOffset;}else{if(curveStyle==="q-concave"){qX=maxOffset;qY=h-maxOffset;}else{if(curveStyle==="c-small"){c1X=w+w/8;c1Y=h/2;c2X=0-w/8;c2Y=h/2;}else{if(curveStyle==="c-large"){c1X=w-maxOffset;c1Y=maxOffset;c2X=maxOffset;c2Y=h-maxOffset;}}}}}}}}if(!curveStyle){svgLine.setAttribute("d","M"+startX+","+startY+"L "+endX+","+endY);}else{if(curveStyle.startsWith("q-")){svgLine.setAttribute("d","M"+startX+","+startY+"Q "+qX+","+qY+" "+endX+","+endY);}else{if(curveStyle.startsWith("c-")){svgLine.setAttribute("d","M"+startX+","+startY+"C "+c1X+","+c1Y+" "+c2X+","+c2Y+" "+endX+","+endY);}}}svgLine.setAttribute("fill","none");svgLine.setAttribute("stroke",strokeColor);svgLine.setAttribute("stroke-width",strokeWidth);svgLine.setAttribute("stroke-dasharray",strokeDash);var baseURI=window.location.href.replace(/#.*$/,"").replace("'",encodeURIComponent("'"));if(markerStartId){svgLine.setAttribute("marker-start","url('"+baseURI+"#"+markerStartId+"')");}if(markerEndId){svgLine.setAttribute("marker-end","url('"+baseURI+"#"+markerEndId+"')");}return svgLine;}var OID=2065;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var IMPL=site9.create(supr,{s9_contentElIsSVG:true,s9_className:"s9-icon-svg",initContent:function(el){var svg=appendNewSvgElement(el,"svg",{"class":"s9-content",preserveAspectRatio:"none","pointer-events":"none"});appendNewSvgElement(svg,"g");},s9_applyEssentialSettings:function(settings){supr.s9_applyEssentialSettings.call(this,settings);var contentEl=$(this).find(this.s9_contentSEL);var allSettings=this.s9_settings;if(site9.hasAnyOwnProperties(settings,"viewboxW","viewboxH")){setSvgAttrs(contentEl[0],{viewBox:"0 0 "+allSettings.viewboxW+" "+allSettings.viewboxH,width:allSettings.viewboxW,height:allSettings.viewboxH});}if(site9.hasAnyOwnProperties(settings,"customSVG","svgPaths","svgAnims","animate")){var paths=(allSettings.svgPaths||[]);var anims=(allSettings.svgAnims||[]);var animate=allSettings.animate;if(allSettings.customSVG){paths.push({d:allSettings.customSVG});}var g=$(this).find("g")[0];removeAllSvgElements(g);for(var i=0,n=paths.length;i<n;i++){appendNewSvgElement(g,"path",paths[i]);}if(animate){for(var i=0,n=anims.length;i<n;i++){appendNewSvgElement(g,"animateTransform",$.extend({},ANIM_DEFAULTS,anims[i]));}}}},s9_applyContentStyles:function(contentStyles){supr.s9_applyContentStyles.call(this,$.extend({},contentStyles,STATIC_CONTENT_STYLES));if(site9.hasAnyOwnProperties(contentStyles,"-s9-border-width","-s9-padding","-s9-border-radius","border-style","border-color","background-color")){var allContentStyles=this.s9_contentStyles;var borderWidth=allContentStyles["-s9-border-width"];var borderRadius=(allContentStyles["-s9-border-radius"]||"0px");var borderStyle=allContentStyles["border-style"];var borderColor=allContentStyles["border-color"];var backgroundColor=allContentStyles["background-color"];var strokeColor=(borderColor||"#000000");setSvgAttrs($(this).find("g")[0],{stroke:strokeColor,"stroke-width":site9.support.parsePx(borderWidth),"stroke-dasharray":"none","stroke-linecap":((borderRadius!=="0px")?"round":""),fill:(backgroundColor||strokeColor)});}}});var STATIC_CONTENT_STYLES={"background-color":"","border-color":"","border-style":"","border-top-width":"","border-right-width":"","border-bottom-width":"","border-left-width":"","border-top-left-radius":"","border-top-right-radius":"","border-bottom-right-radius":"","border-bottom-left-radius":""};var ANIM_DEFAULTS={attributeName:"transform",attributeType:"XML"};function appendNewSvgElement(parentNode,tagName,attrs){var el=document.createElementNS("http://www.w3.org/2000/svg",tagName);if(attrs){setSvgAttrs(el,attrs);}parentNode.appendChild(el);return el;}function removeAllSvgElements(parentNode){while(parentNode.firstChild){parentNode.removeChild(parentNode.firstChild);}}function setSvgAttrs(el,attrs){for(var name in attrs){if(attrs.hasOwnProperty(name)){var value=attrs[name];if(value==null){value="";}value=""+value;if(value){el.setAttribute(name,value);}else{el.removeAttribute(name);}}}}var OID=2066;site9.support[OID]=IMPL;})(jQuery);(function($){var supr=site9.support._Impl;var LOADING_HTML="data:text/html;base64,PCFET0NUWVBFIGh0bWw+PGh0bWw+PGhlYWQ+PG1ldGEgY2hhcnNldD11dGYtOD48Ym9keT48cCBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7bWFyZ2luOi04cHg7d2lkdGg6MTAwJTt0ZXh0LWFsaWduOmNlbnRlcjt0b3A6NTAlO2xpbmUtaGVpZ2h0OjE2cHgiPkxvYWRpbmeF";var IMPL=site9.create(supr,{s9_className:"s9-sandbox",initContent:function(el){$('<iframe class="s9-content s9-scrolling" frameborder="0"/>').appendTo(el);},s9_applyConfig:function(config){supr.s9_applyConfig.call(this,config);if(config.hasOwnProperty("content")){if(this.s9_settings.src){this.s9_needsServerReload=true;}else{this.s9_updateFrameSrc();}}},s9_reloadFromServer:function(){var contentEl=$(this).find(this.s9_contentSEL);if(!(contentEl.length)){return;}var src=this.s9_settings.src;if(!(src)){return;}this.s9_needsServerReload=false;try{var contentWin=contentEl[0].contentWindow;var contentHref=contentWin.location.href;if(contentHref.indexOf(site9.resolveURL(src))===0){contentWin.location.reload();return;}}catch(e){console.log(e,e.stack);}this.s9_updateFrameSrc();},s9_applySettings:function(settings){supr.s9_applySettings.call(this,settings);var contentEl=$(this).find(this.s9_contentSEL);if(settings.hasOwnProperty("src")){this.s9_updateFrameSrc();}if(settings.hasOwnProperty("showsScrollbars")){var showsScrollbars=settings.showsScrollbars;if(showsScrollbars===true){contentEl.attr("scrolling","yes");}else{if(showsScrollbars===false){contentEl.attr("scrolling","no");}else{contentEl.removeAttr("scrolling");}}var oldContentEl=contentEl;contentEl=contentEl.clone();oldContentEl.replaceWith(contentEl);}},s9_updateFrameSrc:function(){if(site9.SAFE_MODE||this.s9_needsEntitlements){return;}var contentEl=$(this).find(this.s9_contentSEL);var src=this.s9_settings.src;contentEl.attr("src",site9.support.url(src)||LOADING_HTML);}});var OID=2052;site9.support[OID]=IMPL;})(jQuery);(function($){var hostSource=getHostSource();var hostOrigin=getHostOrigin();if(!(hostSource)){return;}var S9_BODY_START="<!--s9:TurboStart-->";var S9_BODY_END="<!--s9:TurboEnd-->";var receivingContent=false;function receiveContent(html){var $rootEl=$("#s9-body");var wasReceivingContent=receivingContent;receivingContent=true;html=(html||(S9_BODY_START+S9_BODY_END));var a=html.indexOf(S9_BODY_START);var b=html.lastIndexOf(S9_BODY_END);if(a!==-1&&b>a){html=html.substring(a,b+S9_BODY_END.length);}else{if(html){html="?";}}var awake=site9.isAwake();if(awake){site9.sleep();}$rootEl.html(html);if(awake){site9.awake();}$("html").removeClass("s9--loading");receivingContent=wasReceivingContent;}site9.addAwakeListener(function(){$(window).on("message",handleMessage);if(!(receivingContent)){$("html").addClass("s9--loading");var data=site9.stringifyMessage({type:"register-listener"});hostSource.postMessage(data,hostOrigin);}});site9.addSleepListener(function(){if(!(receivingContent)){var data=site9.stringifyMessage({type:"unregister-listener"});hostSource.postMessage(data,hostOrigin);}$(window).off("message",handleMessage);});var handleMessage=function(jqEvt){var event=jqEvt.originalEvent;var message=site9.parseMessage(event.data);var messageType=(message&&message.type);if(messageType==="wireframe-content"){if(event.source===hostSource&&event.origin===hostOrigin){receiveContent(message.content);var title=(message.wireframeName||"Untitled");if(message.wireframeVersion){title+=" (Old Version)";}document.title=title;}}};function getHostSource(){var hostSource;var q=window.location.search.replace(/^[?]?/,"").split("&");for(var i=0,n=q.length;i<n;i++){if(q[i]==="hostSource=opener"){hostSource=window.opener;}else{if(q[i]==="hostSource=parent"){hostSource=window.parent;}else{if(q[i]==="hostSource=top"){hostSource=window.top;}}}}if(hostSource===window){hostSource=null;}return hostSource;}function getHostOrigin(){var q=window.location.search.replace(/^[?]?/,"").split("&");var hostOriginEquals="hostOrigin=";for(var i=0,n=q.length;i<n;i++){if(q[i].startsWith(hostOriginEquals)){return decodeURIComponent(q[i].substring(hostOriginEquals.length));}}return window.location.origin;}})(jQuery);(function($){site9.migrateObjs=function(objs){if($.isArray(objs)){objs={vers:"1.0.0",rows:objs};}var vers=objs.vers;var rows=objs.rows;if(!($.isPlainObject(objs))||!(vers)||!($.isArray(rows))){throw new Error('Unable to load corrupt document, does not match format \'{ "vers": "x.x.x", "rows": [] }\'');}if(vers==="1.0.0"){migrate_1_0_0_to_1_1_0(rows);vers="1.1.0";}if(vers==="1.1.0"){migrate_1_1_0_to_1_2_0(rows);vers="1.2.0";}if(vers!=="1.2.0"){throw new Error("Unable to load document version "+vers);}return objs;};function migrate_1_0_0_to_1_1_0(rows){function migrateRow(row){if(row.en!=="IXLayoutsUsed"){return;}migrateSettings(row.vals.normalSettings);migrateSettings(row.vals.hoverSettings);migrateSettings(row.vals.targetSettings);migrateSettings(row.vals.clickSettings);}function migrateSettings(settings){if(!(settings)){return;}var textStyle=settings.textStyle;if(textStyle==null){return;}var words=textStyle.split(/\s+/);if(words.length!==2){return;}if(words[0]){settings.textStyle=words[0];}else{delete settings.textStyle;}if(words[1]){settings.textWeight=words[1];}else{delete settings.textWeight;}}rows.forEach(migrateRow);}function migrate_1_1_0_to_1_2_0(rows){function migrateRow(row){if(row.en!=="IXLayoutsUsed"){return;}var positionLockedFlag=row.vals.positionLockedFlag;var contentLockedFlag=row.vals.contentLockedFlag;var groupNamesStr=row.vals.groupNamesStr;delete row.vals.positionLockedFlag;delete row.vals.contentLockedFlag;delete row.vals.groupNamesStr;if(!(positionLockedFlag||contentLockedFlag||groupNamesStr)){return;}var editorInfo={};if(positionLockedFlag){editorInfo.positionLocked=true;}if(contentLockedFlag){editorInfo.contentLocked=true;}if(groupNamesStr){editorInfo.groupNames=groupNamesStr.split(",");}row.vals.editorInfo=editorInfo;}rows.forEach(migrateRow);}})(jQuery);(function($){var supr={url:site9.support.url};$.extend(site9.support,{url:function(url){var resolveProtoshareURL;try{resolveProtoshareURL=(window.frameElement&&window.frameElement.s9_resolveProtoshareURL);}catch(e){}if(resolveProtoshareURL){try{return resolveProtoshareURL(url);}catch(e){console.log(e,e.stack);}}var dataURL;var row=locateRowForURL(url);if(row){dataURL=row.vals.content;}return(dataURL||url);}});function locateRowForURL(url){if(!(url&&url.startsWith("protoshare:"))){return null;}var rows=site9.OBJS;for(var i=0,n=rows.length;i<n;i++){var row=rows[i];if(row.url===url){return row;}}return null;}})(jQuery);